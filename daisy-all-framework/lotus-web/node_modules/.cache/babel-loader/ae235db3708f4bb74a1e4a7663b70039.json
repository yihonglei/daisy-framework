{"remainingRequest":"/Users/hq_ly/Documents/HBuilderProjects/mhjymanager/node_modules/babel-loader/lib/index.js!/Users/hq_ly/Documents/HBuilderProjects/mhjymanager/node_modules/eslint-loader/index.js??ref--13-0!/Users/hq_ly/Documents/HBuilderProjects/mhjymanager/src/directive/sticky.js","dependencies":[{"path":"/Users/hq_ly/Documents/HBuilderProjects/mhjymanager/src/directive/sticky.js","mtime":1657164828407},{"path":"/Users/hq_ly/Documents/HBuilderProjects/mhjymanager/babel.config.js","mtime":1657164828372},{"path":"/Users/hq_ly/Documents/HBuilderProjects/mhjymanager/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hq_ly/Documents/HBuilderProjects/mhjymanager/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/hq_ly/Documents/HBuilderProjects/mhjymanager/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKdmFyIHZ1ZVN0aWNreSA9IHt9Owp2YXIgbGlzdGVuQWN0aW9uOwoKdnVlU3RpY2t5Lmluc3RhbGwgPSBmdW5jdGlvbiAoVnVlKSB7CiAgVnVlLmRpcmVjdGl2ZSgnc3RpY2t5JywgewogICAgaW5zZXJ0ZWQ6IGZ1bmN0aW9uIGluc2VydGVkKGVsLCBiaW5kaW5nKSB7CiAgICAgIHZhciBwYXJhbXMgPSBiaW5kaW5nLnZhbHVlIHx8IHt9OwogICAgICB2YXIgc3RpY2t5VG9wID0gcGFyYW1zLnN0aWNreVRvcCB8fCAwOwogICAgICB2YXIgekluZGV4ID0gcGFyYW1zLnpJbmRleCB8fCAxMDAwOwogICAgICB2YXIgZWxTdHlsZSA9IGVsLnN0eWxlOwogICAgICBlbFN0eWxlLnBvc2l0aW9uID0gJy13ZWJraXQtc3RpY2t5JzsKICAgICAgZWxTdHlsZS5wb3NpdGlvbiA9ICdzdGlja3knOyAvLyBpZiB0aGUgYnJvd3NlciBzdXBwb3J0IGNzcyBzdGlja3nvvIhDdXJyZW50bHkgU2FmYXJpLCBGaXJlZm94IGFuZCBDaHJvbWUgQ2FuYXJ577yJCiAgICAgIC8vIGlmICh+ZWxTdHlsZS5wb3NpdGlvbi5pbmRleE9mKCdzdGlja3knKSkgewogICAgICAvLyAgICAgZWxTdHlsZS50b3AgPSBgJHtzdGlja3lUb3B9cHhgOwogICAgICAvLyAgICAgZWxTdHlsZS56SW5kZXggPSB6SW5kZXg7CiAgICAgIC8vICAgICByZXR1cm4KICAgICAgLy8gfQoKICAgICAgdmFyIGVsSGVpZ2h0ID0gZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0OwogICAgICB2YXIgZWxXaWR0aCA9IGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoOwogICAgICBlbFN0eWxlLmNzc1RleHQgPSAidG9wOiAiLmNvbmNhdChzdGlja3lUb3AsICJweDsgei1pbmRleDogIikuY29uY2F0KHpJbmRleCk7CiAgICAgIHZhciBwYXJlbnRFbG0gPSBlbC5wYXJlbnROb2RlIHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDsKICAgICAgdmFyIHBsYWNlaG9sZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgIHBsYWNlaG9sZGVyLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICAgIHBsYWNlaG9sZGVyLnN0eWxlLndpZHRoID0gIiIuY29uY2F0KGVsV2lkdGgsICJweCIpOwogICAgICBwbGFjZWhvbGRlci5zdHlsZS5oZWlnaHQgPSAiIi5jb25jYXQoZWxIZWlnaHQsICJweCIpOwogICAgICBwYXJlbnRFbG0uaW5zZXJ0QmVmb3JlKHBsYWNlaG9sZGVyLCBlbCk7CiAgICAgIHZhciBhY3RpdmUgPSBmYWxzZTsKCiAgICAgIHZhciBnZXRTY3JvbGwgPSBmdW5jdGlvbiBnZXRTY3JvbGwodGFyZ2V0LCB0b3ApIHsKICAgICAgICB2YXIgcHJvcCA9IHRvcCA/ICdwYWdlWU9mZnNldCcgOiAncGFnZVhPZmZzZXQnOwogICAgICAgIHZhciBtZXRob2QgPSB0b3AgPyAnc2Nyb2xsVG9wJyA6ICdzY3JvbGxMZWZ0JzsKICAgICAgICB2YXIgcmV0ID0gdGFyZ2V0W3Byb3BdOwoKICAgICAgICBpZiAodHlwZW9mIHJldCAhPT0gJ251bWJlcicpIHsKICAgICAgICAgIHJldCA9IHdpbmRvdy5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnRbbWV0aG9kXTsKICAgICAgICB9CgogICAgICAgIHJldHVybiByZXQ7CiAgICAgIH07CgogICAgICB2YXIgc3RpY2t5ID0gZnVuY3Rpb24gc3RpY2t5KCkgewogICAgICAgIGlmIChhY3RpdmUpIHsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIGlmICghZWxTdHlsZS5oZWlnaHQpIHsKICAgICAgICAgIGVsU3R5bGUuaGVpZ2h0ID0gIiIuY29uY2F0KGVsLm9mZnNldEhlaWdodCwgInB4Iik7CiAgICAgICAgfQoKICAgICAgICBlbFN0eWxlLnBvc2l0aW9uID0gJ2ZpeGVkJzsKICAgICAgICBlbFN0eWxlLndpZHRoID0gIiIuY29uY2F0KGVsV2lkdGgsICJweCIpOwogICAgICAgIHBsYWNlaG9sZGVyLnN0eWxlLmRpc3BsYXkgPSAnaW5saW5lLWJsb2NrJzsKICAgICAgICBhY3RpdmUgPSB0cnVlOwogICAgICB9OwoKICAgICAgdmFyIHJlc2V0ID0gZnVuY3Rpb24gcmVzZXQoKSB7CiAgICAgICAgaWYgKCFhY3RpdmUpIHsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIGVsU3R5bGUucG9zaXRpb24gPSAnJzsKICAgICAgICBwbGFjZWhvbGRlci5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogICAgICAgIGFjdGl2ZSA9IGZhbHNlOwogICAgICB9OwoKICAgICAgdmFyIGNoZWNrID0gZnVuY3Rpb24gY2hlY2soKSB7CiAgICAgICAgdmFyIHNjcm9sbFRvcCA9IGdldFNjcm9sbCh3aW5kb3csIHRydWUpOwogICAgICAgIHZhciBvZmZzZXRUb3AgPSBlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3A7CgogICAgICAgIGlmIChvZmZzZXRUb3AgPCBzdGlja3lUb3ApIHsKICAgICAgICAgIHN0aWNreSgpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBpZiAoc2Nyb2xsVG9wIDwgZWxIZWlnaHQgKyBzdGlja3lUb3ApIHsKICAgICAgICAgICAgcmVzZXQoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH07CgogICAgICBsaXN0ZW5BY3Rpb24gPSBmdW5jdGlvbiBsaXN0ZW5BY3Rpb24oKSB7CiAgICAgICAgY2hlY2soKTsKICAgICAgfTsKCiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBsaXN0ZW5BY3Rpb24pOwogICAgfSwKICAgIHVuYmluZDogZnVuY3Rpb24gdW5iaW5kKCkgewogICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgbGlzdGVuQWN0aW9uKTsKICAgIH0KICB9KTsKfTsKCmV4cG9ydCBkZWZhdWx0IHZ1ZVN0aWNreTs="},{"version":3,"names":["vueSticky","listenAction","install","Vue","directive","inserted","el","binding","params","value","stickyTop","zIndex","elStyle","style","position","elHeight","getBoundingClientRect","height","elWidth","width","cssText","parentElm","parentNode","document","documentElement","placeholder","createElement","display","insertBefore","active","getScroll","target","top","prop","method","ret","window","sticky","offsetHeight","reset","check","scrollTop","offsetTop","addEventListener","unbind","removeEventListener"],"sources":["/Users/hq_ly/Documents/HBuilderProjects/mhjymanager/src/directive/sticky.js"],"sourcesContent":["const vueSticky = {}\nlet listenAction\nvueSticky.install = Vue => {\n  Vue.directive('sticky', {\n    inserted(el, binding) {\n      const params = binding.value || {}\n      const stickyTop = params.stickyTop || 0\n      const zIndex = params.zIndex || 1000\n      const elStyle = el.style\n\n      elStyle.position = '-webkit-sticky'\n      elStyle.position = 'sticky'\n      // if the browser support css sticky（Currently Safari, Firefox and Chrome Canary）\n      // if (~elStyle.position.indexOf('sticky')) {\n      //     elStyle.top = `${stickyTop}px`;\n      //     elStyle.zIndex = zIndex;\n      //     return\n      // }\n      const elHeight = el.getBoundingClientRect().height\n      const elWidth = el.getBoundingClientRect().width\n      elStyle.cssText = `top: ${stickyTop}px; z-index: ${zIndex}`\n\n      const parentElm = el.parentNode || document.documentElement\n      const placeholder = document.createElement('div')\n      placeholder.style.display = 'none'\n      placeholder.style.width = `${elWidth}px`\n      placeholder.style.height = `${elHeight}px`\n      parentElm.insertBefore(placeholder, el)\n\n      let active = false\n\n      const getScroll = (target, top) => {\n        const prop = top ? 'pageYOffset' : 'pageXOffset'\n        const method = top ? 'scrollTop' : 'scrollLeft'\n        let ret = target[prop]\n        if (typeof ret !== 'number') {\n          ret = window.document.documentElement[method]\n        }\n        return ret\n      }\n\n      const sticky = () => {\n        if (active) {\n          return\n        }\n        if (!elStyle.height) {\n          elStyle.height = `${el.offsetHeight}px`\n        }\n\n        elStyle.position = 'fixed'\n        elStyle.width = `${elWidth}px`\n        placeholder.style.display = 'inline-block'\n        active = true\n      }\n\n      const reset = () => {\n        if (!active) {\n          return\n        }\n\n        elStyle.position = ''\n        placeholder.style.display = 'none'\n        active = false\n      }\n\n      const check = () => {\n        const scrollTop = getScroll(window, true)\n        const offsetTop = el.getBoundingClientRect().top\n        if (offsetTop < stickyTop) {\n          sticky()\n        } else {\n          if (scrollTop < elHeight + stickyTop) {\n            reset()\n          }\n        }\n      }\n      listenAction = () => {\n        check()\n      }\n\n      window.addEventListener('scroll', listenAction)\n    },\n\n    unbind() {\n      window.removeEventListener('scroll', listenAction)\n    }\n  })\n}\n\nexport default vueSticky\n\n"],"mappings":"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"}]}