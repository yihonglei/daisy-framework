{"remainingRequest":"/Users/hq_ly/mhjy/mhjy_manager/node_modules/babel-loader/lib/index.js!/Users/hq_ly/mhjy/mhjy_manager/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/hq_ly/mhjy/mhjy_manager/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/hq_ly/mhjy/mhjy_manager/src/views/homecenter/page.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/hq_ly/mhjy/mhjy_manager/src/views/homecenter/page.vue","mtime":1662345599430},{"path":"/Users/hq_ly/mhjy/mhjy_manager/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hq_ly/mhjy/mhjy_manager/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/hq_ly/mhjy/mhjy_manager/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hq_ly/mhjy/mhjy_manager/node_modules/vue-loader/lib/index.js","mtime":1655715099000},{"path":"/Users/hq_ly/mhjy/mhjy_manager/babel.config.js","mtime":1657164828372},{"path":"/Users/hq_ly/mhjy/mhjy_manager/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hq_ly/mhjy/mhjy_manager/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/hq_ly/mhjy/mhjy_manager/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hq_ly/mhjy/mhjy_manager/node_modules/vue-loader/lib/index.js","mtime":1655715099000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiL1VzZXJzL2hxX2x5L21oankvbWhqeV9tYW5hZ2VyL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9yZWdlbmVyYXRvclJ1bnRpbWUuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1VzZXJzL2hxX2x5L21oankvbWhqeV9tYW5hZ2VyL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc3BsaWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5saW5rLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHBhdGggZnJvbSAncGF0aCc7CmltcG9ydCB7IGRlZXBDbG9uZSB9IGZyb20gJ0AvdXRpbHMnOwppbXBvcnQgeyBnZXRUb2tlbiwgc2V0VG9rZW4sIHJlbW92ZVRva2VuIH0gZnJvbSAnQC91dGlscy9hdXRoJzsKaW1wb3J0IGNoZWNrUGVybWlzc2lvbiBmcm9tICdAL3V0aWxzL3Blcm1pc3Npb24nOyAvLyDmnYPpmZDliKTmlq3lh73mlbAKCmltcG9ydCB3YXZlcyBmcm9tICdAL2RpcmVjdGl2ZS93YXZlcy9pbmRleC5qcyc7IC8vIOawtOazoue6ueaMh+S7pAoKaW1wb3J0IHsgY2xpZW50LCBnZXRGaWxlTmFtZVVVSUQgfSBmcm9tICdAL3V0aWxzL2FsaW9zcy5qcyc7CnZhciBkZWZhdWx0SW1hZ2UgPSB7CiAgaWQ6IDAsCiAgcGxhY2U6IDEsCiAgdGl0bGU6ICcnLAogIHNyYzogJycsCiAgc29ydDogMSwKICB0eXBlOiAxLAogIGxpbms6ICcnLAogIGVuYWJsZTogMSwKICBzdGFydF9hdDogbmV3IERhdGUoKSwKICBlbmRfYXQ6IG5ldyBEYXRlKCkKfTsKZXhwb3J0IGRlZmF1bHQgewogIGRpcmVjdGl2ZXM6IHsKICAgIHdhdmVzOiB3YXZlcwogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHN0YXJ0RGF0ZTogbmV3IERhdGUoKSwKICAgICAgZW5kRGF0ZTogbmV3IERhdGUoKSwKICAgICAgaW1hZ2VMaXN0OiBbXSwKICAgICAgaW1hZ2U6IHsKICAgICAgICBpZDogMCwKICAgICAgICBwbGFjZTogMSwKICAgICAgICB0aXRsZTogJycsCiAgICAgICAgc3JjOiAnJywKICAgICAgICBzb3J0OiAxLAogICAgICAgIHR5cGU6IDEsCiAgICAgICAgbGluazogJycsCiAgICAgICAgZW5hYmxlOiAxLAogICAgICAgIHN0YXJ0X2F0OiBuZXcgRGF0ZSgpLAogICAgICAgIGVuZF9hdDogbmV3IERhdGUoKQogICAgICB9LAogICAgICBkaWFsb2dWaXNpYmxlOiBmYWxzZSwKICAgICAgZGlhbG9nVHlwZTogJ25ldycsCiAgICAgIGNoZWNrU3RyaWN0bHk6IGZhbHNlLAogICAgICBkYXRhT2JqOiB7CiAgICAgICAgdG9rZW46ICcnLAogICAgICAgIGtleTogJycKICAgICAgfSwKICAgICAgcGxhY2VzOiBbewogICAgICAgIHZhbHVlOiAxLAogICAgICAgIGxhYmVsOiAn6aaW6aG1JwogICAgICB9XSwKICAgICAgdHlwZXM6IFt7CiAgICAgICAgdmFsdWU6IDEsCiAgICAgICAgbGFiZWw6ICfnuq/lsZXnpLonCiAgICAgIH0sIHsKICAgICAgICB2YWx1ZTogMiwKICAgICAgICBsYWJlbDogJ+mTvuaOpScKICAgICAgfV0sCiAgICAgIGFjdGl2ZU5hbWU6ICdmaXJzdCcsCiAgICAgIGFsaXBheW51bTogJycsCiAgICAgIGFsaXBheW5hbWU6ICcnLAogICAgICBvcHRpb25zdmFsdWU6IHsKICAgICAgICB2YWx1ZTogMiwKICAgICAgICBsYWJlbDogJ+WFheWAvOaIkOWKnycKICAgICAgfSwKICAgICAgb3B0aW9uczogW3sKICAgICAgICB2YWx1ZTogMCwKICAgICAgICBsYWJlbDogJ+WFqOmDqCcKICAgICAgfSwgewogICAgICAgIHZhbHVlOiAxLAogICAgICAgIGxhYmVsOiAn5b6F5YWF5YC8JwogICAgICB9LCB7CiAgICAgICAgdmFsdWU6IDIsCiAgICAgICAgbGFiZWw6ICflhYXlgLzmiJDlip8nCiAgICAgIH0sIHsKICAgICAgICB2YWx1ZTogMywKICAgICAgICBsYWJlbDogJ+WFheWAvOWksei0pScKICAgICAgfV0KICAgIH07CiAgfSwKICBmaWx0ZXJzOiB7CiAgICBmaWx0ZXJFbmFibGU6IGZ1bmN0aW9uIGZpbHRlckVuYWJsZShlbmFibGUpIHsKICAgICAgaWYgKGVuYWJsZSkgewogICAgICAgIHJldHVybiAi5q2j5bi4IjsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gIuemgeeUqCI7CiAgICAgIH0KICAgIH0sCiAgICBmaWx0ZXJQbGFjZTogZnVuY3Rpb24gZmlsdGVyUGxhY2UocGxhY2UpIHsKICAgICAgaWYgKHBsYWNlID09IDEpIHsKICAgICAgICByZXR1cm4gJ+mmlumhtSc7CiAgICAgIH0KICAgIH0sCiAgICBmaWx0ZXJUeXBlOiBmdW5jdGlvbiBmaWx0ZXJUeXBlKHR5cGUpIHsKICAgICAgaWYgKHR5cGUgPT0gMSkgewogICAgICAgIHJldHVybiAn57qv5bGV56S6JzsKICAgICAgfSBlbHNlIGlmICh0eXBlID09IDIpIHsKICAgICAgICByZXR1cm4gJ+mTvuaOpei3s+i9rCc7CiAgICAgIH0KICAgIH0sCiAgICBmaWx0ZXJEYXRlOiBmdW5jdGlvbiBmaWx0ZXJEYXRlKGRhdGUpIHsKICAgICAgdmFyIHRpbWUgPSBuZXcgRGF0ZShkYXRlKTsKICAgICAgdmFyIHllYXIgPSB0aW1lLmdldEZ1bGxZZWFyKCk7CiAgICAgIHZhciBtb250aCA9IHRpbWUuZ2V0TW9udGgoKSArIDE7CiAgICAgIHZhciBkYXRlcyA9IHRpbWUuZ2V0RGF0ZSgpOwogICAgICB2YXIgaG91ciA9IHRpbWUuZ2V0SG91cnMoKTsKICAgICAgaG91ciA9IGhvdXIgPCAxMCA/ICcwJyArIGhvdXIgOiBob3VyOwogICAgICB2YXIgbWludXRlID0gdGltZS5nZXRNaW51dGVzKCk7CiAgICAgIG1pbnV0ZSA9IG1pbnV0ZSA8IDEwID8gJzAnICsgbWludXRlIDogbWludXRlOwogICAgICB2YXIgc2Vjb25kID0gdGltZS5nZXRTZWNvbmRzKCk7CiAgICAgIHNlY29uZCA9IHNlY29uZCA8IDEwID8gJzAnICsgc2Vjb25kIDogc2Vjb25kOwogICAgICByZXR1cm4geWVhciArICctJyArIG1vbnRoICsgJy0nICsgZGF0ZXMgKyAnXHQnICsgaG91ciArICc6JyArIG1pbnV0ZSArICc6JyArIHNlY29uZDsKICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldEltYWdlTGlzdCgpOwogIH0sCiAgbWV0aG9kczogewogICAgY2hlY2tQZXJtaXNzaW9uOiBjaGVja1Blcm1pc3Npb24sCiAgICBnZXRJbWFnZUxpc3Q6IGZ1bmN0aW9uIGdldEltYWdlTGlzdCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIG9iaiwgcmVzOwogICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIG9iaiA9IHt9OwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuYXBpLmltYWdlKCkuZ2V0SW1hZ2VMaXN0KG9iaik7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0LnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKHJlcy5jb2RlID09IDEpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMuaW1hZ2VMaXN0ID0gcmVzLmRhdGE7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBzd2l0Y2hDaGFuZ2U6IGZ1bmN0aW9uIHN3aXRjaENoYW5nZShvYmopIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICB2YXIgcmVzOwogICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLmFwaS5pbWFnZSgpLnN5c1VwZGF0ZUVuYWJsZShvYmopOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICByZXMgPSBfY29udGV4dDIuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAocmVzLmNvZGUgPT0gMSkgewogICAgICAgICAgICAgICAgICBfdGhpczIuJG1lc3NhZ2Uuc3VjY2Vzcygn5pON5L2c5oiQ5YqfJyk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICBpZiAob2JqLmVuYWJsZSA9PSAxKSB7CiAgICAgICAgICAgICAgICAgICAgb2JqLmVuYWJsZSA9IDA7CiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgb2JqLmVuYWJsZSA9IDE7CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIF90aGlzMi4kbWVzc2FnZS5lcnJvcign5pON5L2c5aSx6LSlJyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGhhbmRsZURlbGV0ZTogZnVuY3Rpb24gaGFuZGxlRGVsZXRlKF9yZWYpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICB2YXIgJGluZGV4ID0gX3JlZi4kaW5kZXgsCiAgICAgICAgICByb3cgPSBfcmVmLnJvdzsKICAgICAgdGhpcy4kY29uZmlybSgn56Gu5a6a5Yig6ZmkPycsICfmj5DnpLonLCB7CiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICfnoa7orqQnLAogICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICflj5bmtognLAogICAgICAgIHR5cGU6ICd3YXJuaW5nJwogICAgICB9KS50aGVuKCAvKiNfX1BVUkVfXyovX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMy5hcGkuaW1hZ2UoKS5zeXNEZWxldGVJbWFnZSh7CiAgICAgICAgICAgICAgICAgICdpZCc6IHJvdy5pZAogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIF90aGlzMy5pbWFnZUxpc3Quc3BsaWNlKCRpbmRleCwgMSk7CgogICAgICAgICAgICAgICAgX3RoaXMzLiRtZXNzYWdlKHsKICAgICAgICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnLAogICAgICAgICAgICAgICAgICBtZXNzYWdlOiAn5Yig6Zmk5oiQ5YqfIScKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTMpOwogICAgICB9KSkpLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICBjb25zb2xlLmVycm9yKGVycik7CiAgICAgIH0pOwogICAgfSwKICAgIGhhbmRsZUNoZWNrSGlkZGVuOiBmdW5jdGlvbiBoYW5kbGVDaGVja0hpZGRlbih2YWwpIHsKICAgICAgdGhpcy5pbWFnZS5lbmFibGUgPSB2YWw7CiAgICB9LAogICAgaGFuZGxlQWRkSW1hZ2U6IGZ1bmN0aW9uIGhhbmRsZUFkZEltYWdlKCkgewogICAgICB0aGlzLmltYWdlID0gT2JqZWN0LmFzc2lnbih7fSwgZGVmYXVsdEltYWdlKTsKICAgICAgdGhpcy5kaWFsb2dUeXBlID0gJ25ldyc7CiAgICAgIHRoaXMuZGlhbG9nVmlzaWJsZSA9IHRydWU7CiAgICB9LAogICAgaGFuZGxlRWRpdDogZnVuY3Rpb24gaGFuZGxlRWRpdChzY29wZSkgewogICAgICB0aGlzLmRpYWxvZ1R5cGUgPSAnZWRpdCc7CiAgICAgIHRoaXMuZGlhbG9nVmlzaWJsZSA9IHRydWU7CiAgICAgIHRoaXMuY2hlY2tTdHJpY3RseSA9IHRydWU7CiAgICAgIHRoaXMuaW1hZ2UgPSBkZWVwQ2xvbmUoc2NvcGUucm93KTsKICAgIH0sCiAgICBiZWZvcmVVcGxvYWQ6IGZ1bmN0aW9uIGJlZm9yZVVwbG9hZChmaWxlKSB7CiAgICAgIHZhciBpc0x0MU0gPSBmaWxlLnNpemUgLyAxMDI0IC8gMTAyNCA8IDE7CgogICAgICBpZiAoIWlzTHQxTSkgewogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+aWh+S7tuWkp+Wwj+S4jeiDvei2hei/hyAxTSAhJyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBpc0x0MU07CiAgICB9LAogICAgaHR0cFJlcXVlc3Q6IGZ1bmN0aW9uIGh0dHBSZXF1ZXN0KF9yZWYzKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgdmFyIGZpbGUgPSBfcmVmMy5maWxlOwogICAgICB2YXIgdGhhdCA9IHRoaXM7IC8v5rOo5oSP5ZOm77yM6L+Z6YeM5oyH5a6a5paH5Lu25aS5J2ltYWdlLyfvvIzlsJ3or5Xov4flhpnlnKjphY3nva7mlofku7bvvIzkvYbmmK/lkITnp43kuI3ooYzvvIzlhpnlnKjov5nph4zlsLHlj6/ku6UKCiAgICAgIHZhciBmaWxlTmFtZSA9ICdtaGp5LycgKyAnYmFubmVyJyArIGdldEZpbGVOYW1lVVVJRCgpICsgJy5qcGcnOwogICAgICBjbGllbnQoKS5wdXQoZmlsZU5hbWUsIGZpbGUpLnRoZW4oZnVuY3Rpb24gKF9yZWY0KSB7CiAgICAgICAgdmFyIHJlcyA9IF9yZWY0LnJlcywKICAgICAgICAgICAgdXJsID0gX3JlZjQudXJsLAogICAgICAgICAgICBuYW1lID0gX3JlZjQubmFtZTsKCiAgICAgICAgaWYgKHJlcyAmJiByZXMuc3RhdHVzID09IDIwMCkgewogICAgICAgICAgLy8gY29uc29sZS5sb2coYOmYv+mHjOS6kU9TU+S4iuS8oOaWh+S7tuaIkOWKn+Wbnuiwg2AsIHJlcywgdXJsLCBuYW1lKTsKICAgICAgICAgIF90aGlzNC5pbWFnZS5zcmMgPSB1cmw7CiAgICAgICAgfQogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgY29uc29sZS5sb2coIlx1OTYzRlx1OTFDQ1x1NEU5MU9TU1x1NEUwQVx1NEYyMFx1NTkzMVx1OEQyNVx1NTZERVx1OEMwMyIsIGVycik7CiAgICAgIH0pOwogICAgfSwKICAgIGNvbmZpcm1JbWFnZTogZnVuY3Rpb24gY29uZmlybUltYWdlKCkgewogICAgICB2YXIgX3RoaXM1ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0KCkgewogICAgICAgIHZhciByZXMsIF9yZXM7CgogICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlNCQoX2NvbnRleHQ0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NC5wcmV2ID0gX2NvbnRleHQ0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBpZiAoIShfdGhpczUuZGlhbG9nVHlwZSA9PSAnbmV3JykpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSA3OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM1LmFwaS5pbWFnZSgpLnN5c0FkZEltYWdlKF90aGlzNS5pbWFnZSk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0NC5zZW50OwoKICAgICAgICAgICAgICAgIGlmIChyZXMuY29kZSA9PSAxKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzNS4kbWVzc2FnZS5zdWNjZXNzKCfmlrDlop7miJDlip8nKTsKCiAgICAgICAgICAgICAgICAgIF90aGlzNS5kaWFsb2dWaXNpYmxlID0gZmFsc2U7CgogICAgICAgICAgICAgICAgICBfdGhpczUuZ2V0SW1hZ2VMaXN0KCk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSAxMjsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICBpZiAoX3RoaXM1LmltYWdlLnR5cGUgPT0gMSkgewogICAgICAgICAgICAgICAgICBfdGhpczUuaW1hZ2UubGluayA9ICcnOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM1LmFwaS5pbWFnZSgpLnN5c1VwZGF0ZUltYWdlKF90aGlzNS5pbWFnZSk7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgICBfcmVzID0gX2NvbnRleHQ0LnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKF9yZXMuY29kZSA9PSAxKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzNS4kbWVzc2FnZS5zdWNjZXNzKCfnvJbovpHmiJDlip8nKTsKCiAgICAgICAgICAgICAgICAgIF90aGlzNS5kaWFsb2dWaXNpYmxlID0gZmFsc2U7CgogICAgICAgICAgICAgICAgICBfdGhpczUuZ2V0SW1hZ2VMaXN0KCk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTQpOwogICAgICB9KSkoKTsKICAgIH0KICB9Cn07"},{"version":3,"mappings":"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","names":["deepClone","getToken","setToken","removeToken","client","getFileNameUUID","id","place","title","src","sort","type","link","enable","start_at","end_at","directives","waves","data","startDate","endDate","imageList","image","dialogVisible","dialogType","checkStrictly","dataObj","token","key","places","value","label","types","activeName","alipaynum","alipayname","optionsvalue","options","filters","filterEnable","filterPlace","filterType","filterDate","date","hour","minute","second","created","methods","checkPermission","getImageList","obj","res","switchChange","handleDelete","$index","row","confirmButtonText","cancelButtonText","then","message","catch","console","handleCheckHidden","val","handleAddImage","handleEdit","scope","beforeUpload","file","httpRequest","url","name","confirmImage"],"sourceRoot":"src/views/homecenter","sources":["page.vue"],"sourcesContent":["<template>\r\n  <div class=\"app-container\">\r\n    <el-tabs v-model=\"activeName\">\r\n      <el-tab-pane label=\"轮播图\" name=\"first\">\r\n        <div class=\"filter-container\" style=\"margin-top: 20px;\">\r\n          <el-button v-waves class=\"filter-item\" style=\"margin-left: 10px;\" type=\"primary\" @click=\"handleAddImage\">\r\n            新增轮播图\r\n          </el-button>\r\n        </div>\r\n        <el-table :data=\"imageList\" style=\"width: 100%;margin-top:10px;\">\r\n          <el-table-column align=\"center\" label=\"ID\" width=\"50\">\r\n            <template slot-scope=\"scope\">\r\n              {{ scope.row.id }}\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column align=\"center\" label=\"位置\" width=\"120\">\r\n            <template slot-scope=\"scope\">\r\n              {{ scope.row.place|filterPlace }}\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column align=\"header-center\" label=\"图片\" width=\"120\">\r\n            <template slot-scope=\"scope\">\r\n              <img :src=\"scope.row.src\" style=\"width: 80px;height: 80px;\" />\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column align=\"center\" label=\"轮播图名称\" width=\"200\">\r\n            <template slot-scope=\"scope\">\r\n              {{ scope.row.title }}\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column align=\"center\" label=\"状态\">\r\n            <template slot-scope=\"scope\">\r\n              {{ scope.row.enable|filterEnable }}\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column align=\"center\" label=\"是否启用\" width=\"220\">\r\n            <template slot-scope=\"scope\">\r\n              <el-switch v-model=\"scope.row.enable\" :active-value=\"1\" :inactive-value=\"0\"\r\n                @change=\"switchChange(scope.row)\"></el-switch>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column align=\"center\" label=\"类型\">\r\n            <template slot-scope=\"scope\">\r\n              {{ scope.row.type|filterType }}\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column align=\"center\" label=\"跳转链接\" width=\"200\">\r\n            <template slot-scope=\"scope\">\r\n              {{ scope.row.link }}\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column align=\"center\" label=\"排序\">\r\n            <template slot-scope=\"scope\">\r\n              {{ scope.row.sort }}\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column align=\"center\" label=\"生效开始时间\" width=\"220\">\r\n            <template slot-scope=\"scope\">\r\n              {{ scope.row.start_at|filterDate }}\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column align=\"center\" label=\"生效结束时间\" width=\"220\">\r\n            <template slot-scope=\"scope\">\r\n              {{ scope.row.end_at|filterDate }}\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column align=\"center\" label=\"创建时间\" width=\"220\">\r\n            <template slot-scope=\"scope\">\r\n              {{ scope.row.created_at|filterDate }}\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column v-if=\"checkPermission(['admin'])\" align=\"center\" label=\"操作\" width=\"150\" fixed=\"right\">\r\n            <template slot-scope=\"scope\">\r\n              <el-button type=\"primary\" size=\"small\" @click=\"handleEdit(scope)\">修改</el-button>\r\n              <el-button type=\"danger\" size=\"small\" @click=\"handleDelete(scope)\">删除</el-button>\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n      </el-tab-pane>\r\n    </el-tabs>\r\n\r\n    <el-dialog :visible.sync=\"dialogVisible\" :title=\"dialogType==='edit'?'编辑图片':'新建图片'\">\r\n      <el-form :model=\"image\" label-width=\"100px\" label-position=\"left\">\r\n        <el-form-item label=\"图片\">\r\n          <el-upload :data=\"dataObj\" action=\"\" :multiple=\"false\" :show-file-list=\"false\" :http-request=\"httpRequest\"\r\n            :before-upload=\"beforeUpload\" :limit=\"1\" class=\"image-uploader\">\r\n            <img :src=\"image.src+'?imageView2/1/w/80/h/80'\" class=\"image-uploader\">\r\n            </img>\r\n          </el-upload>\r\n        </el-form-item>\r\n\r\n        <el-form-item prop=\"place\" label=\"位置\" label-width=\"100px\" label-position=\"left\">\n            <el-select v-model=\"image.place\" class=\"filter-item\" default-first-option>\n              <el-option v-for=\"item in places\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\"></el-option>\n            </el-select>\n        </el-form-item>\r\n\r\n        <el-form-item label=\"标题\">\r\n          <el-input v-model=\"image.title\" placeholder=\"请输入标题\" />\r\n        </el-form-item>\r\n\r\n        <el-form-item prop=\"sort\" label=\"排序\" label-width=\"100px\" label-position=\"left\">\n          <el-input type=\"number\" min=\"1\" v-model=\"image.sort\"\n            style=\"width: 100px;margin-left: 5px;margin-right: 5px;\"></el-input>\n        </el-form-item>\r\n\r\n        <el-form-item label=\"类型\">\n          <el-select v-model=\"image.type\" class=\"filter-item\" default-first-option>\n            <el-option v-for=\"item in types\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\"></el-option>\n          </el-select>\r\n        </el-form-item>\r\n\r\n        <el-form-item v-if=\"image.type==2\" label=\"链接\">\r\n          <el-input v-model=\"image.link\" placeholder=\"跳转链接\" />\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"是否可用\">\n          <el-checkbox v-model=\"image.enable\" label=\"是否可用\" :true-label=\"1\" :false-label=\"0\"\n            @change=\"handleCheckHidden\"></el-checkbox>\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"开始时间\">\n          <el-date-picker class=\"filter-item\" v-model=\"image.start_at\" type=\"date\" placeholder=\"请选择生效时间\"\n            value-format=\"yyyy-MM-dd\"></el-date-picker>\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"结束时间\">\n          <el-date-picker class=\"filter-item\" v-model=\"image.end_at\" type=\"date\" placeholder=\"请选择失效时间\"\n            value-format=\"yyyy-MM-dd\"></el-date-picker>\r\n        </el-form-item>\r\n\r\n      </el-form>\r\n      <div style=\"text-align:right;\">\r\n        <el-button type=\"danger\" @click=\"dialogVisible=false\">取消</el-button>\r\n        <el-button type=\"primary\" @click=\"confirmImage\">提交</el-button>\r\n      </div>\r\n    </el-dialog>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import path from 'path'\r\n  import {\r\n    deepClone\r\n  } from '@/utils'\r\n  import {\r\n    getToken,\r\n    setToken,\r\n    removeToken\r\n  } from '@/utils/auth'\r\n  import checkPermission from '@/utils/permission' // 权限判断函数\r\n  import waves from '@/directive/waves/index.js' // 水波纹指令\r\n  import {\r\n    client,\r\n    getFileNameUUID\r\n  } from '@/utils/alioss.js'\r\n\r\n  const defaultImage = {\r\n    id: 0,\r\n    place: 1,\r\n    title: '',\r\n    src: '',\r\n    sort: 1,\r\n    type: 1,\r\n    link: '',\r\n    enable: 1,\r\n    start_at: new Date(),\r\n    end_at: new Date()\r\n  }\r\n\r\n  export default {\r\n    directives: {\r\n      waves\r\n    },\r\n\r\n    data() {\r\n      return {\r\n        startDate: new Date(),\r\n        endDate: new Date(),\r\n        imageList: [],\r\n        image: {\n          id: 0,\n          place: 1,\n          title: '',\n          src: '',\n          sort: 1,\n          type: 1,\n          link: '',\n          enable: 1,\n          start_at: new Date(),\n          end_at: new Date()\n        },\r\n        dialogVisible: false,\r\n        dialogType: 'new',\r\n        checkStrictly: false,\n        dataObj: {\n          token: '',\n          key: ''\n        },\n        places: [{\n          value: 1,\n          label: '首页'\n        }],\n        types: [{\n          value: 1,\n          label: '纯展示'\n        },\n        {\n          value: 2,\n          label: '链接'\n        }],\r\n        activeName: 'first',\r\n        alipaynum: '',\r\n        alipayname: '',\r\n        optionsvalue: {\r\n          value: 2,\r\n          label: '充值成功'\r\n        },\r\n        options: [{\r\n          value: 0,\r\n          label: '全部'\r\n        }, {\r\n          value: 1,\r\n          label: '待充值'\r\n        }, {\r\n          value: 2,\r\n          label: '充值成功'\r\n        }, {\r\n          value: 3,\r\n          label: '充值失败'\r\n        }]\r\n      }\r\n    },\r\n\r\n    filters: {\r\n      filterEnable(enable) {\r\n        if (enable) {\r\n          return \"正常\"\r\n        } else {\r\n          return \"禁用\"\r\n        }\r\n      },\r\n      filterPlace(place) {\r\n        if (place == 1) {\r\n          return '首页'\r\n        }\r\n      },\r\n      filterType(type) {\r\n        if (type == 1) {\r\n          return '纯展示'\r\n        } else if (type == 2) {\r\n          return '链接跳转'\r\n        }\r\n      },\r\n      filterDate(date) {\r\n        var time = new Date(date)\r\n        var year = time.getFullYear();\r\n        var month = time.getMonth() + 1;\r\n        var dates = time.getDate();\r\n        var hour = time.getHours();\r\n        hour = hour < 10 ? '0' + hour : hour;\r\n        var minute = time.getMinutes();\r\n        minute = minute < 10 ? '0' + minute : minute;\r\n        var second = time.getSeconds();\r\n        second = second < 10 ? '0' + second : second;\r\n        return year + '-' + month + '-' + dates + '\\t' + hour + ':' + minute + ':' + second;\r\n      },\r\n    },\r\n    created() {\r\n      this.getImageList()\r\n    },\r\n    methods: {\r\n      checkPermission,\r\n      async getImageList() {\r\n        let obj = {\r\n\r\n        }\r\n        const res = await this.api.image().getImageList(obj)\r\n        if (res.code == 1) {\r\n          this.imageList = res.data\r\n        }\r\n      },\r\n\r\n      async switchChange(obj) {\r\n        const res = await this.api.image().sysUpdateEnable(obj)\r\n        if (res.code == 1) {\r\n          this.$message.success('操作成功')\r\n        } else {\r\n          if (obj.enable == 1) {\r\n            obj.enable = 0\r\n          } else {\r\n            obj.enable = 1\r\n          }\r\n          this.$message.error('操作失败')\r\n        }\r\n      },\r\n\r\n      handleDelete({\r\n        $index,\r\n        row\r\n      }) {\r\n        this.$confirm('确定删除?', '提示', {\r\n            confirmButtonText: '确认',\r\n            cancelButtonText: '取消',\r\n            type: 'warning'\r\n          })\r\n          .then(async () => {\r\n            await this.api.image().sysDeleteImage({\r\n              'id': row.id\r\n            })\r\n            this.imageList.splice($index, 1)\r\n            this.$message({\r\n              type: 'success',\r\n              message: '删除成功!'\r\n            })\r\n          })\r\n          .catch(err => {\r\n            console.error(err)\r\n          })\r\n      },\r\n\n      handleCheckHidden(val) {\r\n        this.image.enable = val\r\n      },\r\n      handleAddImage() {\r\n        this.image = Object.assign({}, defaultImage)\r\n        this.dialogType = 'new'\r\n        this.dialogVisible = true\r\n      },\r\n\r\n      handleEdit(scope) {\r\n        this.dialogType = 'edit'\r\n        this.dialogVisible = true\r\n        this.checkStrictly = true\r\n        this.image = deepClone(scope.row)\r\n      },\r\n\r\n      beforeUpload(file) {\r\n        const isLt1M = file.size / 1024 / 1024 < 1;\r\n        if (!isLt1M) {\r\n          this.$message.error('文件大小不能超过 1M !');\r\n        }\r\n        return isLt1M;\r\n      },\r\n      httpRequest({\r\n        file\r\n      }) {\r\n        let that = this\r\n        //注意哦，这里指定文件夹'image/'，尝试过写在配置文件，但是各种不行，写在这里就可以\r\n        var fileName = 'mhjy/' + 'banner' + getFileNameUUID() + '.jpg';\r\n        client().put(fileName, file).then(({\r\n          res,\r\n          url,\r\n          name\r\n        }) => {\r\n          if (res && res.status == 200) {\r\n            // console.log(`阿里云OSS上传文件成功回调`, res, url, name);\r\n            this.image.src = url;\r\n          }\r\n        }).catch((err) => {\r\n          console.log(`阿里云OSS上传失败回调`, err);\r\n        });\r\n      },\r\n\r\n      async confirmImage() {\n        if (this.dialogType == 'new') {\n          const res = await this.api.image().sysAddImage(this.image)\n          if (res.code == 1) {\n            this.$message.success('新增成功')\n            this.dialogVisible = false\n            this.getImageList()\n          }\n        } else {\n          if (this.image.type == 1) {\n            this.image.link = ''\n          }\n          const res = await this.api.image().sysUpdateImage(this.image)\n          if (res.code == 1) {\n            this.$message.success('编辑成功')\n            this.dialogVisible = false\n            this.getImageList()\n          }\n        }\r\n      },\r\n\r\n    },\r\n  }\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n  .app-container {\n\n    .image-uploader {\n      background-color: #5cd7f7;\n      width: 80px;\n      height: 80px;\n      border-radius: 40px;\n      color: #000000;\n    }\n  }\r\n</style>\n"]}]}