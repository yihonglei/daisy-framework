{"remainingRequest":"/Users/hq_ly/mhjy/mhjy_manager/node_modules/babel-loader/lib/index.js!/Users/hq_ly/mhjy/mhjy_manager/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/hq_ly/mhjy/mhjy_manager/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/hq_ly/mhjy/mhjy_manager/src/views/permission/page.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/hq_ly/mhjy/mhjy_manager/src/views/permission/page.vue","mtime":1660376339949},{"path":"/Users/hq_ly/mhjy/mhjy_manager/babel.config.js","mtime":1657164828372},{"path":"/Users/hq_ly/mhjy/mhjy_manager/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hq_ly/mhjy/mhjy_manager/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/hq_ly/mhjy/mhjy_manager/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hq_ly/mhjy/mhjy_manager/node_modules/vue-loader/lib/index.js","mtime":1655715099000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL2hxX2x5L21oankvbWhqeV9tYW5hZ2VyL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyLmpzIjsKaW1wb3J0IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIGZyb20gIi9Vc2Vycy9ocV9seS9taGp5L21oanlfbWFuYWdlci9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlci5qcyI7CmltcG9ydCBfcmVnZW5lcmF0b3JSdW50aW1lIGZyb20gIi9Vc2Vycy9ocV9seS9taGp5L21oanlfbWFuYWdlci9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vcmVnZW5lcmF0b3JSdW50aW1lLmpzIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9ocV9seS9taGp5L21oanlfbWFuYWdlci9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbHRlci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmNsdWRlcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pbmNsdWRlcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmpvaW4uanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgcGF0aCBmcm9tICdwYXRoJzsKaW1wb3J0IHsgZGVlcENsb25lIH0gZnJvbSAnQC91dGlscyc7CmltcG9ydCB7IGdldFRva2VuLCBzZXRUb2tlbiwgcmVtb3ZlVG9rZW4gfSBmcm9tICdAL3V0aWxzL2F1dGgnOwppbXBvcnQgY2hlY2tQZXJtaXNzaW9uIGZyb20gJ0AvdXRpbHMvcGVybWlzc2lvbic7IC8vIOadg+mZkOWIpOaWreWHveaVsAoKaW1wb3J0IFBhblRodW1iIGZyb20gJ0AvY29tcG9uZW50cy9QYW5UaHVtYic7CmltcG9ydCBNZElucHV0IGZyb20gJ0AvY29tcG9uZW50cy9NRGlucHV0JzsKaW1wb3J0IE1hbGxraSBmcm9tICdAL2NvbXBvbmVudHMvVGV4dEhvdmVyRWZmZWN0L01hbGxraSc7CmltcG9ydCBEcm9wZG93bk1lbnUgZnJvbSAnQC9jb21wb25lbnRzL1NoYXJlL0Ryb3Bkb3duTWVudSc7CmltcG9ydCB3YXZlcyBmcm9tICdAL2RpcmVjdGl2ZS93YXZlcy9pbmRleC5qcyc7IC8vIOawtOazoue6ueaMh+S7pAoKaW1wb3J0IHsgZWxlbWVudEljb25zIH0gZnJvbSAnQC91dGlscy9pY29uJzsKdmFyIGRlZmF1bHRSb2xlID0gewogIGlkOiAwLAogIG5hbWU6ICcnLAogIGludHJvOiAnJywKICByb3V0ZXM6IFtdCn07CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnQ29tcG9uZW50TWl4aW5EZW1vJywKICBjb21wb25lbnRzOiB7CiAgICBQYW5UaHVtYjogUGFuVGh1bWIsCiAgICBNZElucHV0OiBNZElucHV0LAogICAgTWFsbGtpOiBNYWxsa2ksCiAgICBEcm9wZG93bk1lbnU6IERyb3Bkb3duTWVudQogIH0sCiAgZGlyZWN0aXZlczogewogICAgd2F2ZXM6IHdhdmVzCiAgfSwKICB3YXRjaDogewogICAgZmlsdGVyVGV4dDogZnVuY3Rpb24gZmlsdGVyVGV4dCh2YWwpIHsKICAgICAgdGhpcy4kcmVmcy50cmVlLmZpbHRlcih2YWwpOwogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHJvbGU6IE9iamVjdC5hc3NpZ24oe30sIGRlZmF1bHRSb2xlKSwKICAgICAgcm91dGVzOiBbXSwKICAgICAgZGlhbG9nVmlzaWJsZTogZmFsc2UsCiAgICAgIGNoZWNrU3RyaWN0bHk6IGZhbHNlLAogICAgICBkZWZhdWx0UHJvcHM6IHsKICAgICAgICBjaGlsZHJlbjogJ2NoaWxkcmVuJywKICAgICAgICBsYWJlbDogJ3RpdGxlJywKICAgICAgICB0aXRsZTogJ3RpdGxlJywKICAgICAgICBpZDogMAogICAgICB9LAogICAgICBmaWx0ZXJUZXh0OiAnJywKICAgICAgY2xpY2tNZW51OiB7CiAgICAgICAgaWQ6IDAsCiAgICAgICAgdGl0bGU6ICfmoLnoj5zljZUnCiAgICAgIH0sCiAgICAgIGRlZmF1bHRNZW51OiB7CiAgICAgICAgaWQ6IDAsCiAgICAgICAgcGFyZW50aWQ6IDAsCiAgICAgICAgcGF0aDogJycsCiAgICAgICAgY29tcG9uZW50OiAnbGF5b3V0JywKICAgICAgICBoaWRkZW46IDAsCiAgICAgICAgcmVkaXJlY3Q6ICcnLAogICAgICAgIGFsd2F5c1Nob3c6IDAsCiAgICAgICAgbmFtZTogJycsCiAgICAgICAgdGl0bGU6ICcnLAogICAgICAgIGljb246ICcnLAogICAgICAgIGFjdGl2ZU1lbnU6ICcnLAogICAgICAgIG5vQ2FjaGU6IDAsCiAgICAgICAgYnJlYWRjcnVtYjogMSwKICAgICAgICBhZmZpeDogMCwKICAgICAgICBlbmFibGU6IDEsCiAgICAgICAgc29ydDogMQogICAgICB9LAogICAgICBtZW51OiB7CiAgICAgICAgaWQ6IDAsCiAgICAgICAgcGFyZW50aWQ6IDAsCiAgICAgICAgcGF0aDogJycsCiAgICAgICAgY29tcG9uZW50OiAnbGF5b3V0JywKICAgICAgICBoaWRkZW46IDAsCiAgICAgICAgcmVkaXJlY3Q6ICcnLAogICAgICAgIGFsd2F5c1Nob3c6IDAsCiAgICAgICAgbmFtZTogJycsCiAgICAgICAgdGl0bGU6ICcnLAogICAgICAgIGljb246ICcnLAogICAgICAgIGFjdGl2ZU1lbnU6ICcnLAogICAgICAgIG5vQ2FjaGU6IDAsCiAgICAgICAgYnJlYWRjcnVtYjogMSwKICAgICAgICBhZmZpeDogMCwKICAgICAgICBlbmFibGU6IDEsCiAgICAgICAgc29ydDogMQogICAgICB9CiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIHJvdXRlc0RhdGE6IGZ1bmN0aW9uIHJvdXRlc0RhdGEoKSB7CiAgICAgIHJldHVybiB0aGlzLnJvdXRlczsKICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICAvLyBNb2NrOiBnZXQgYWxsIHJvdXRlcyBhbmQgcm9sZXMgbGlzdCBmcm9tIHNlcnZlcgogICAgdGhpcy5nZXRSb3V0ZXMoKTsKICAgIHRoaXMuaWNvbkxpc3QgPSBlbGVtZW50SWNvbnM7CiAgfSwKICBtZXRob2RzOiB7CiAgICBjaGVja1Blcm1pc3Npb246IGNoZWNrUGVybWlzc2lvbiwKICAgIGdldFJvdXRlczogZnVuY3Rpb24gZ2V0Um91dGVzKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgcmVzOwogICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLmFwaS5yb2xlKCkuZ2V0Um91dGVzKCk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICBfdGhpcy5zZXJ2aWNlUm91dGVzID0gcmVzLmRhdGE7CiAgICAgICAgICAgICAgICBfdGhpcy5yb3V0ZXMgPSBfdGhpcy5nZW5lcmF0ZVJvdXRlcyhyZXMuZGF0YSk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBub2RlQ2xpY2s6IGZ1bmN0aW9uIG5vZGVDbGljayh2YWwpIHsKICAgICAgdGhpcy5jbGlja01lbnUgPSB2YWw7CiAgICAgIHRoaXMubWVudSA9IHRoaXMuZGVmYXVsdE1lbnU7CiAgICB9LAogICAgZmlsdGVyTm9kZTogZnVuY3Rpb24gZmlsdGVyTm9kZSh2YWx1ZSwgZGF0YSkgewogICAgICBpZiAoIXZhbHVlKSByZXR1cm4gdHJ1ZTsKICAgICAgcmV0dXJuIGRhdGEubGFiZWwuaW5jbHVkZXModmFsdWUpOwogICAgfSwKICAgIGhhbmRsZVJlc2V0OiBmdW5jdGlvbiBoYW5kbGVSZXNldCgpIHsKICAgICAgdGhpcy5maWx0ZXJUZXh0ID0gJyc7CiAgICB9LAogICAgaGFuZGxlQWRkOiBmdW5jdGlvbiBoYW5kbGVBZGQoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdmFyIHRpdGxlID0gJ+ehruWumuaWsOWinuOAkCcgKyB0aGlzLmNsaWNrTWVudS50aXRsZSArICfjgJHnmoTlrZDoj5zljZXvvJ8nOwogICAgICB0aGlzLiRjb25maXJtKHRpdGxlLCAn5o+Q56S6JywgewogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn56Gu6K6kJywKICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJywKICAgICAgICB0eXBlOiAnd2FybmluZycKICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMyLm1lbnUgPSBfdGhpczIuZGVmYXVsdE1lbnU7CiAgICAgICAgX3RoaXMyLm1lbnUucGFyZW50aWQgPSBfdGhpczIuY2xpY2tNZW51LmlkOwoKICAgICAgICBpZiAoX3RoaXMyLm1lbnUucGFyZW50aWQgPT0gMCkgewogICAgICAgICAgX3RoaXMyLm1lbnUuY29tcG9uZW50ID0gJ2xheW91dCc7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIF90aGlzMi5tZW51LmNvbXBvbmVudCA9ICcnOwogICAgICAgIH0KICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTsKICAgICAgfSk7CiAgICB9LAogICAgaGFuZGxlRWRpdDogZnVuY3Rpb24gaGFuZGxlRWRpdCgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICB2YXIgdGl0bGUgPSAn56Gu5a6a57yW6L6R44CQJyArIHRoaXMuY2xpY2tNZW51LnRpdGxlICsgJ+OAkeiPnOWNle+8nyc7CiAgICAgIHRoaXMuJGNvbmZpcm0odGl0bGUsICfmj5DnpLonLCB7CiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICfnoa7orqQnLAogICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICflj5bmtognLAogICAgICAgIHR5cGU6ICd3YXJuaW5nJwogICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczMubWVudSA9IF90aGlzMy5jbGlja01lbnU7CiAgICAgICAgX3RoaXMzLm1lbnUucGFyZW50aWQgPSBfdGhpczMuY2xpY2tNZW51LmlkOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgY29uc29sZS5lcnJvcihlcnIpOwogICAgICB9KTsKICAgIH0sCiAgICByZXNldFBhcmVudElkOiBmdW5jdGlvbiByZXNldFBhcmVudElkKCkgewogICAgICB0aGlzLm1lbnUgPSB0aGlzLmRlZmF1bHRNZW51OwogICAgICB0aGlzLm1lbnUucGFyZW50aWQgPSAwOwogICAgICB0aGlzLm1lbnUuY29tcG9uZW50ID0gJ2xheW91dCc7CiAgICB9LAogICAgaGFuZGxlQ2hlY2tIaWRkZW46IGZ1bmN0aW9uIGhhbmRsZUNoZWNrSGlkZGVuKHZhbCkgewogICAgICB0aGlzLm1lbnUuaGlkZGVuID0gdmFsOwogICAgfSwKICAgIGhhbmRsZUNoZWNrQWx3YXlzU2hvdzogZnVuY3Rpb24gaGFuZGxlQ2hlY2tBbHdheXNTaG93KHZhbCkgewogICAgICB0aGlzLm1lbnUuYWx3YXlzU2hvdyA9IHZhbDsKICAgIH0sCiAgICBoYW5kbGVDaGVja05vQ2FjaGU6IGZ1bmN0aW9uIGhhbmRsZUNoZWNrTm9DYWNoZSh2YWwpIHsKICAgICAgdGhpcy5tZW51Lm5vQ2FjaGUgPSB2YWw7CiAgICB9LAogICAgaGFuZGxlQ2hlY2tCcmVhZGNydW1iOiBmdW5jdGlvbiBoYW5kbGVDaGVja0JyZWFkY3J1bWIodmFsKSB7CiAgICAgIHRoaXMubWVudS5icmVhZGNydW1iID0gdmFsOwogICAgfSwKICAgIGhhbmRsZUNoZWNrQWZmaXg6IGZ1bmN0aW9uIGhhbmRsZUNoZWNrQWZmaXgodmFsKSB7CiAgICAgIHRoaXMubWVudS5hZmZpeCA9IHZhbDsKICAgIH0sCiAgICBjaGFuZ2VFbmFibGU6IGZ1bmN0aW9uIGNoYW5nZUVuYWJsZShlbmFibGUpIHsKICAgICAgdGhpcy5tZW51LmVuYWJsZSA9IGVuYWJsZTsKICAgIH0sCiAgICBzZWxlY3RJY29uOiBmdW5jdGlvbiBzZWxlY3RJY29uKCkgewogICAgICB0aGlzLmRpYWxvZ1Zpc2libGUgPSB0cnVlOwogICAgfSwKICAgIHN1cmVJY29uOiBmdW5jdGlvbiBzdXJlSWNvbihpdGVtKSB7CiAgICAgIHRoaXMubWVudS5pY29uID0gaXRlbTsKICAgICAgdGhpcy5kaWFsb2dWaXNpYmxlID0gZmFsc2U7CiAgICB9LAogICAgY29uZmlybUFkZDogZnVuY3Rpb24gY29uZmlybUFkZCgpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICB2YXIgaXNFZGl0LCBtZW51SWQsIHJlcywgX3JlczsKCiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGlzRWRpdCA9IGZhbHNlOwogICAgICAgICAgICAgICAgbWVudUlkID0gX3RoaXM0Lm1lbnUuaWQ7CgogICAgICAgICAgICAgICAgaWYgKG1lbnVJZCAhPSAwKSB7CiAgICAgICAgICAgICAgICAgIGlzRWRpdCA9IHRydWU7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKCFpc0VkaXQpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxMDsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA2OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNC5hcGkubWVudSgpLmVkaXRTeXNSb3V0ZShfdGhpczQubWVudSk7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0Mi5zZW50OwoKICAgICAgICAgICAgICAgIGlmIChyZXMuY29kZSA9PSAxKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzNC4kbWVzc2FnZS5zdWNjZXNzKCfoj5zljZXnvJbovpHmiJDlip8nKTsKCiAgICAgICAgICAgICAgICAgIF90aGlzNC5tZW51ID0gX3RoaXM0LmRlZmF1bHRNZW51OwoKICAgICAgICAgICAgICAgICAgX3RoaXM0LmdldFJvdXRlcygpOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgX3RoaXM0LiRtZXNzYWdlLmVycm9yKHJlcy5tc2cgKyAnJyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxNDsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxMjsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczQuYXBpLm1lbnUoKS5hZGRTeXNSb3V0ZShfdGhpczQubWVudSk7CgogICAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgICBfcmVzID0gX2NvbnRleHQyLnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKF9yZXMuY29kZSA9PSAxKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzNC4kbWVzc2FnZS5zdWNjZXNzKCfoj5zljZXmlrDlop7miJDlip8nKTsKCiAgICAgICAgICAgICAgICAgIF90aGlzNC5tZW51ID0gX3RoaXM0LmRlZmF1bHRNZW51OwoKICAgICAgICAgICAgICAgICAgX3RoaXM0LmdldFJvdXRlcygpOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgX3RoaXM0LiRtZXNzYWdlLmVycm9yKF9yZXMubXNnICsgJycpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDE0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgaGFuZGxlRGVsZXRlOiBmdW5jdGlvbiBoYW5kbGVEZWxldGUoKSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwoKICAgICAgdmFyIGNoZWNrZWRLZXlzID0gdGhpcy4kcmVmcy50cmVlLmdldENoZWNrZWRLZXlzKCk7CiAgICAgIHZhciBpZHMgPSBjaGVja2VkS2V5cy5qb2luKCcsJyk7CiAgICAgIHZhciBvYmogPSB7CiAgICAgICAgJ2lkcyc6IGlkcwogICAgICB9OwoKICAgICAgaWYgKGNoZWNrZWRLZXlzLmxlbmd0aCA9PSAwKSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZS5pbmZvKCfor7flhYjpgInmi6nlvoXliKDpmaTnmoToj5zljZUnKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLiRjb25maXJtKCfnoa7lrprliKDpmaTpgInkuK3nmoToj5zljZU/JywgJ+aPkOekuicsIHsKICAgICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn56Gu6K6kJywKICAgICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICflj5bmtognLAogICAgICAgICAgdHlwZTogJ3dhcm5pbmcnCiAgICAgICAgfSkudGhlbiggLyojX19QVVJFX18qL19hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7CiAgICAgICAgICB2YXIgcmVzOwogICAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAyOwogICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM1LmFwaS5tZW51KCkuZGVsU3lzUm91dGUob2JqKTsKCiAgICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0My5zZW50OwoKICAgICAgICAgICAgICAgICAgaWYgKHJlcy5jb2RlID09IDEpIHsKICAgICAgICAgICAgICAgICAgICBfdGhpczUuJG1lc3NhZ2Uuc3VjY2Vzcygn6I+c5Y2V5Yig6Zmk5oiQ5YqfJyk7CgogICAgICAgICAgICAgICAgICAgIF90aGlzNS5tZW51ID0gX3RoaXM1LmRlZmF1bHRNZW51OwoKICAgICAgICAgICAgICAgICAgICBfdGhpczUuZ2V0Um91dGVzKCk7CiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXM1LiRtZXNzYWdlLmVycm9yKHJlcy5tc2cgKyAnJyk7CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0sIF9jYWxsZWUzKTsKICAgICAgICB9KSkpLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTsKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIC8vIFJlc2hhcGUgdGhlIHJvdXRlcyBzdHJ1Y3R1cmUgc28gdGhhdCBpdCBsb29rcyB0aGUgc2FtZSBhcyB0aGUgc2lkZWJhcgogICAgZ2VuZXJhdGVSb3V0ZXM6IGZ1bmN0aW9uIGdlbmVyYXRlUm91dGVzKHJvdXRlcykgewogICAgICB2YXIgYmFzZVBhdGggPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6ICcvJzsKICAgICAgdmFyIHJlcyA9IFtdOwoKICAgICAgdmFyIF9pdGVyYXRvciA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKHJvdXRlcyksCiAgICAgICAgICBfc3RlcDsKCiAgICAgIHRyeSB7CiAgICAgICAgZm9yIChfaXRlcmF0b3IucygpOyAhKF9zdGVwID0gX2l0ZXJhdG9yLm4oKSkuZG9uZTspIHsKICAgICAgICAgIHZhciByb3V0ZSA9IF9zdGVwLnZhbHVlOwoKICAgICAgICAgIC8vIHNraXAgc29tZSByb3V0ZQogICAgICAgICAgaWYgKHJvdXRlLmhpZGRlbikgewogICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgIH0gLy8gY29uc3Qgb25seU9uZVNob3dpbmdDaGlsZCA9IHRoaXMub25seU9uZVNob3dpbmdDaGlsZChyb3V0ZS5jaGlsZHJlbiwgcm91dGUpCiAgICAgICAgICAvLyBpZiAocm91dGUuY2hpbGRyZW4gJiYgb25seU9uZVNob3dpbmdDaGlsZCAmJiAhcm91dGUuYWx3YXlzU2hvdykgewogICAgICAgICAgLy8gICByb3V0ZSA9IG9ubHlPbmVTaG93aW5nQ2hpbGQKICAgICAgICAgIC8vIH0KCgogICAgICAgICAgdmFyIGRhdGEgPSByb3V0ZTsKICAgICAgICAgIGRhdGEucGF0aCA9IHJvdXRlLnBhdGg7IC8vcGF0aC5yZXNvbHZlKGJhc2VQYXRoLCByb3V0ZS5wYXRoKQoKICAgICAgICAgIGRhdGEudGl0bGUgPSByb3V0ZS50aXRsZTsKICAgICAgICAgIGRhdGEubGFiZWwgPSByb3V0ZS50aXRsZSwgZGF0YS5pZCA9IHJvdXRlLmlkOyAvLyBjb25zdCBkYXRhID0gewogICAgICAgICAgLy8gICBwYXRoOiBwYXRoLnJlc29sdmUoYmFzZVBhdGgsIHJvdXRlLnBhdGgpLAogICAgICAgICAgLy8gICB0aXRsZTogcm91dGUudGl0bGUsCiAgICAgICAgICAvLyAgIGxhYmVsOiByb3V0ZS50aXRsZSwKICAgICAgICAgIC8vICAgaWQ6IHJvdXRlLmlkCiAgICAgICAgICAvLyB9CiAgICAgICAgICAvLyByZWN1cnNpdmUgY2hpbGQgcm91dGVzCgogICAgICAgICAgaWYgKHJvdXRlLmNoaWxkcmVuKSB7CiAgICAgICAgICAgIGRhdGEuY2hpbGRyZW4gPSB0aGlzLmdlbmVyYXRlUm91dGVzKHJvdXRlLmNoaWxkcmVuLCBkYXRhLnBhdGgpOwogICAgICAgICAgfQoKICAgICAgICAgIHJlcy5wdXNoKGRhdGEpOwogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgX2l0ZXJhdG9yLmUoZXJyKTsKICAgICAgfSBmaW5hbGx5IHsKICAgICAgICBfaXRlcmF0b3IuZigpOwogICAgICB9CgogICAgICByZXR1cm4gcmVzOwogICAgfSwKICAgIC8vIHJlZmVyZW5jZTogc3JjL3ZpZXcvbGF5b3V0L2NvbXBvbmVudHMvU2lkZWJhci9TaWRlYmFySXRlbS52dWUKICAgIG9ubHlPbmVTaG93aW5nQ2hpbGQ6IGZ1bmN0aW9uIG9ubHlPbmVTaG93aW5nQ2hpbGQoKSB7CiAgICAgIHZhciBjaGlsZHJlbiA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogW107CiAgICAgIHZhciBwYXJlbnQgPSBhcmd1bWVudHMubGVuZ3RoID4gMSA/IGFyZ3VtZW50c1sxXSA6IHVuZGVmaW5lZDsKICAgICAgdmFyIG9ubHlPbmVDaGlsZCA9IG51bGw7CiAgICAgIHZhciBzaG93aW5nQ2hpbGRyZW4gPSBjaGlsZHJlbi5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICByZXR1cm4gIWl0ZW0uaGlkZGVuOwogICAgICB9KTsgLy8gV2hlbiB0aGVyZSBpcyBvbmx5IG9uZSBjaGlsZCByb3V0ZSwgdGhlIGNoaWxkIHJvdXRlIGlzIGRpc3BsYXllZCBieSBkZWZhdWx0CgogICAgICBpZiAoc2hvd2luZ0NoaWxkcmVuLmxlbmd0aCA9PT0gMSkgewogICAgICAgIG9ubHlPbmVDaGlsZCA9IHNob3dpbmdDaGlsZHJlblswXTsKICAgICAgICBvbmx5T25lQ2hpbGQucGF0aCA9IHBhdGgucmVzb2x2ZShwYXJlbnQucGF0aCwgb25seU9uZUNoaWxkLnBhdGgpOwogICAgICAgIHJldHVybiBvbmx5T25lQ2hpbGQ7CiAgICAgIH0gLy8gU2hvdyBwYXJlbnQgaWYgdGhlcmUgYXJlIG5vIGNoaWxkIHJvdXRlIHRvIGRpc3BsYXkKCgogICAgICBpZiAoc2hvd2luZ0NoaWxkcmVuLmxlbmd0aCA9PT0gMCkgewogICAgICAgIG9ubHlPbmVDaGlsZCA9IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgcGFyZW50KSwge30sIHsKICAgICAgICAgIHBhdGg6ICcnLAogICAgICAgICAgbm9TaG93aW5nQ2hpbGRyZW46IHRydWUKICAgICAgICB9KTsKICAgICAgICByZXR1cm4gb25seU9uZUNoaWxkOwogICAgICB9CgogICAgICByZXR1cm4gZmFsc2U7CiAgICB9CiAgfQp9Ow=="},{"version":3,"mappings":"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","names":["deepClone","getToken","setToken","removeToken","elementIcons","id","name","intro","routes","components","PanThumb","MdInput","Mallki","DropdownMenu","directives","waves","watch","filterText","val","data","role","dialogVisible","checkStrictly","defaultProps","children","label","title","clickMenu","defaultMenu","parentid","path","component","hidden","redirect","alwaysShow","icon","activeMenu","noCache","breadcrumb","affix","enable","sort","menu","computed","routesData","created","methods","checkPermission","getRoutes","res","nodeClick","filterNode","value","handleReset","handleAdd","confirmButtonText","cancelButtonText","type","then","catch","console","handleEdit","resetParentId","handleCheckHidden","handleCheckAlwaysShow","handleCheckNoCache","handleCheckBreadcrumb","handleCheckAffix","changeEnable","selectIcon","sureIcon","item","confirmAdd","isEdit","menuId","handleDelete","generateRoutes","onlyOneShowingChild","onlyOneChild","parent","noShowingChildren"],"sourceRoot":"src/views/permission","sources":["page.vue"],"sourcesContent":["<template>\r\n  <div class=\"app-container\">\r\n    <el-row :gutter=\"12\" style=\"margin-top:30px;\">\r\n      <el-col :span=\"12\">\r\n        <el-card class=\"box-card\">\r\n          <div slot=\"header\" class=\"clearfix\">\r\n            <span>菜单列表</span>\r\n          </div>\r\n          <div class=\"filter-container\">\r\n            <el-input v-model=\"filterText\" placeholder=\"输入搜索关键字\" style=\"width: 200px;margin-right: 10px;\"\r\n              class=\"filter-item\" />\r\n            <el-button v-waves class=\"filter-item\" style=\"margin-left: 10px;\" type=\"primary\" @click=\"handleReset\">\r\n              重置\r\n            </el-button>\r\n            <el-button v-waves class=\"filter-item\" style=\"margin-left: 10px;\" type=\"primary\" @click=\"handleAdd\">\r\n              新增\r\n            </el-button>\n            <el-button v-waves class=\"filter-item\" style=\"margin-left: 10px;\" type=\"primary\" @click=\"handleEdit\">\n              编辑\n            </el-button>\r\n            <el-button v-waves class=\"filter-item\" style=\"margin-left: 10px;\" type=\"primary\" @click=\"handleDelete\">\r\n              删除\r\n            </el-button>\r\n          </div>\r\n          <div>\r\n            <el-form :model=\"role\">\r\n              <el-tree ref=\"tree\" :check-strictly=\"checkStrictly\" :data=\"routesData\" :props=\"defaultProps\"\r\n                :accordion=\"false\" default-expand-all :highlight-current=\"true\" :expand-on-click-node=\"false\"\r\n                show-checkbox node-key=\"id\" class=\"permission-tree\" @node-click=\"nodeClick\"\r\n                :filter-node-method=\"filterNode\" empty-text=\"暂无数据\" />\r\n            </el-form>\r\n          </div>\r\n        </el-card>\r\n      </el-col>\r\n\r\n      <el-col :span=\"12\">\r\n        <el-card class=\"box-card\">\r\n          <div slot=\"header\" class=\"clearfix\">\r\n            <span>新增菜单</span>\r\n          </div>\r\n          <div>\r\n            <el-form :model=\"menu\">\r\n              <el-form-item prop=\"parentid\" label=\"上级ID\" label-width=\"100px\" label-position=\"left\">\r\n                <el-input disabled style=\"width: 200px;\" v-model=\"menu.parentid\" placeholder=\"上级ID\"></el-input>\r\n                <el-button style=\"margin-left: 10px;\" type=\"primary\" @click=\"resetParentId\" icon=\"search\">重置\r\n                </el-button>\r\n              </el-form-item>\r\n              <el-form-item prop=\"path\" label=\"路由URI\" label-width=\"100px\" label-position=\"left\">\r\n                <el-input v-model=\"menu.path\" placeholder=\"路由URI\"></el-input>\r\n              </el-form-item>\r\n              <el-form-item prop=\"component\" label=\"视图URI\" label-width=\"100px\" label-position=\"left\">\r\n                <el-input :disabled=\"menu.parentid==0\" v-model=\"menu.component\" placeholder=\"视图URI\"></el-input>\r\n              </el-form-item>\r\n              <el-form-item prop=\"hidden\" label=\"是否隐藏\" label-width=\"100px\" label-position=\"left\">\r\n                <el-checkbox v-model=\"menu.hidden\" label=\"不显示在菜单栏\" :true-label=\"1\" :false-label=\"0\"\r\n                  @change=\"handleCheckHidden\"></el-checkbox>\r\n              </el-form-item>\r\n              <el-form-item prop=\"redirect\" label=\"重定向URI\" label-width=\"100px\" label-position=\"left\">\r\n                <el-input v-model=\"menu.redirect\" placeholder=\"重定向URI\"></el-input>\r\n              </el-form-item>\r\n              <el-form-item prop=\"alwaysShow\" label=\"一直显示\" label-width=\"100px\" label-position=\"left\">\r\n                <el-checkbox v-model=\"menu.alwaysShow\" label=\"一个子菜单时,也展示父菜单\" :true-label=\"1\" :false-label=\"0\"\r\n                  @change=\"handleCheckAlwaysShow\"></el-checkbox>\r\n              </el-form-item>\r\n              <el-form-item prop=\"name\" label=\"*路由名称\" label-width=\"100px\" label-position=\"left\">\r\n                <el-input v-model=\"menu.name\" placeholder=\"路由名称\"></el-input>\r\n              </el-form-item>\r\n\r\n              <el-form-item prop=\"title\" label=\"*菜单名称\" label-width=\"100px\" label-position=\"left\">\r\n                <el-input v-model=\"menu.title\" placeholder=\"菜单名称\"></el-input>\r\n              </el-form-item>\r\n\r\n              <el-form-item prop=\"icon\" label=\"ICON\" label-width=\"100px\" label-position=\"left\">\r\n                <el-input disabled v-model=\"menu.icon\" placeholder=\"图标\" style=\"width: 200px;\"></el-input>\r\n                <el-button style=\"margin-left: 10px;\" type=\"primary\" @click=\"selectIcon\" icon=\"search\">选择</el-button>\r\n              </el-form-item>\r\n              <el-form-item prop=\"noCache\" label=\"是否缓存\" label-width=\"100px\" label-position=\"left\">\r\n                <el-checkbox v-model=\"menu.noCache\" :true-label=\"1\" :false-label=\"0\" @change=\"handleCheckNoCache\">\r\n                </el-checkbox>\r\n              </el-form-item>\r\n              <el-form-item prop=\"breadcrumb\" label=\"展示面包屑中\" label-width=\"100px\" label-position=\"left\">\r\n                <el-checkbox v-model=\"menu.breadcrumb\" :true-label=\"1\" :false-label=\"0\" @change=\"handleCheckBreadcrumb\">\r\n                </el-checkbox>\r\n              </el-form-item>\r\n              <el-form-item prop=\"affix\" label=\"固定在顶部\" label-width=\"100px\" label-position=\"left\">\r\n                <el-checkbox v-model=\"menu.affix\" :true-label=\"1\" :false-label=\"0\" @change=\"handleCheckAffix\">\r\n                </el-checkbox>\r\n              </el-form-item>\r\n              <el-form-item prop=\"activeMenu\" label=\"高亮侧边栏\" label-width=\"100px\" label-position=\"left\">\r\n                <el-input v-model=\"menu.activeMenu\" placeholder=\"高亮侧边栏(选填)\"></el-input>\r\n              </el-form-item>\r\n              <el-form-item prop=\"enable\" label=\"状态\" label-width=\"100px\" label-position=\"left\">\r\n                <el-radio-group v-model=\"menu.enable\" size=\"small\" @change=\"changeEnable\" fill=\"#66b1ff\">\r\n                  <el-radio :label=\"1\">启用</el-radio>\r\n                  <el-radio :label=\"0\">禁用</el-radio>\r\n                </el-radio-group>\r\n              </el-form-item>\r\n              <el-form-item prop=\"sort\" label=\"排序\" label-width=\"100px\" label-position=\"left\">\r\n                <el-input type=\"number\" min=\"1\" v-model=\"menu.sort\"\r\n                  style=\"width: 100px;margin-left: 5px;margin-right: 5px;\"></el-input>\r\n              </el-form-item>\r\n            </el-form>\r\n          </div>\r\n          <div style=\"text-align:center;\">\r\n            <el-button type=\"primary\" @click=\"confirmAdd\">提交</el-button>\r\n          </div>\r\n        </el-card>\r\n      </el-col>\r\n    </el-row>\r\n\r\n    <el-dialog :visible.sync=\"dialogVisible\" title=\"选择图标\">\r\n      <div class=\"iconList\">\r\n        <i v-for=\"item in iconList\" :key=\"item\" :class=\"item\" @click=\"sureIcon(item)\" style=\"font-size:20px\"></i>\r\n      </div>\r\n    </el-dialog>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import path from 'path'\r\n  import {\r\n    deepClone\r\n  } from '@/utils'\r\n  import {\r\n    getToken,\r\n    setToken,\r\n    removeToken\r\n  } from '@/utils/auth'\n\r\n  import checkPermission from '@/utils/permission' // 权限判断函数\r\n  import PanThumb from '@/components/PanThumb'\r\n  import MdInput from '@/components/MDinput'\r\n  import Mallki from '@/components/TextHoverEffect/Mallki'\r\n  import DropdownMenu from '@/components/Share/DropdownMenu'\r\n  import waves from '@/directive/waves/index.js' // 水波纹指令\r\n  import {\r\n    elementIcons\r\n  } from '@/utils/icon'\r\n\r\n  const defaultRole = {\r\n    id: 0,\r\n    name: '',\r\n    intro: '',\r\n    routes: []\r\n  }\r\n\r\n  export default {\r\n    name: 'ComponentMixinDemo',\r\n    components: {\r\n      PanThumb,\r\n      MdInput,\r\n      Mallki,\r\n      DropdownMenu,\r\n    },\r\n    directives: {\r\n      waves\r\n    },\r\n    watch: {\r\n      filterText(val) {\r\n        this.$refs.tree.filter(val);\r\n      }\r\n    },\r\n    data() {\r\n      return {\r\n        role: Object.assign({}, defaultRole),\r\n        routes: [],\r\n        dialogVisible: false,\r\n        checkStrictly: false,\r\n        defaultProps: {\r\n          children: 'children',\r\n          label: 'title',\r\n          title: 'title',\r\n          id: 0\r\n        },\r\n        filterText: '',\n        clickMenu: {\n          id:0,\n          title:'根菜单'\n        },\n        defaultMenu: {\n          id: 0,\n          parentid: 0,\n          path: '',\n          component: 'layout',\n          hidden: 0,\n          redirect: '',\n          alwaysShow: 0,\n          name: '',\n          title: '',\n          icon: '',\n          activeMenu: '',\n          noCache: 0,\n          breadcrumb: 1,\n          affix: 0,\n          enable: 1,\n          sort: 1\n        },\r\n        menu: {\n          id: 0,\r\n          parentid: 0,\r\n          path: '',\r\n          component: 'layout',\r\n          hidden: 0,\r\n          redirect: '',\r\n          alwaysShow: 0,\r\n          name: '',\r\n          title: '',\r\n          icon: '',\r\n          activeMenu: '',\r\n          noCache: 0,\r\n          breadcrumb: 1,\r\n          affix: 0,\r\n          enable: 1,\r\n          sort: 1\r\n        }\r\n      }\r\n    },\r\n    computed: {\r\n      routesData() {\r\n        return this.routes\r\n      }\r\n    },\r\n    created() {\r\n      // Mock: get all routes and roles list from server\r\n      this.getRoutes()\r\n      this.iconList = elementIcons\r\n    },\r\n    methods: {\r\n      checkPermission,\r\n      async getRoutes() {\r\n        const res = await this.api.role().getRoutes()\r\n        this.serviceRoutes = res.data\r\n\r\n        this.routes = this.generateRoutes(res.data)\r\n      },\r\n\r\n      nodeClick(val) {\n        this.clickMenu = val\n        this.menu = this.defaultMenu\r\n      },\r\n\r\n      filterNode(value, data) {\r\n        if (!value) return true\r\n        return data.label.includes(value)\r\n      },\r\n      handleReset() {\r\n        this.filterText = ''\r\n      },\r\n\r\n      handleAdd() {\r\n        let title = '确定新增【' + this.clickMenu.title + '】的子菜单？'\r\n        this.$confirm(title, '提示', {\r\n            confirmButtonText: '确认',\r\n            cancelButtonText: '取消',\r\n            type: 'warning'\r\n          })\r\n          .then(() => {\n            this.menu = this.defaultMenu\r\n            this.menu.parentid = this.clickMenu.id\n            if (this.menu.parentid == 0) {\n              this.menu.component = 'layout'\n            } else {\n              this.menu.component = ''\n            }\r\n          })\r\n          .catch(err => {\r\n            console.error(err)\r\n          })\r\n      },\n\n      handleEdit() {\n        let title = '确定编辑【' + this.clickMenu.title + '】菜单？'\n        this.$confirm(title, '提示', {\n            confirmButtonText: '确认',\n            cancelButtonText: '取消',\n            type: 'warning'\n          })\n          .then(() => {\n            this.menu = this.clickMenu\n            this.menu.parentid = this.clickMenu.id\n          })\n          .catch(err => {\n            console.error(err)\n          })\n      },\r\n\r\n      resetParentId() {\r\n        this.menu = this.defaultMenu\n        this.menu.parentid = 0\n        this.menu.component = 'layout'\r\n      },\r\n      handleCheckHidden(val) {\r\n        this.menu.hidden = val\r\n      },\r\n      handleCheckAlwaysShow(val) {\r\n        this.menu.alwaysShow = val\r\n      },\r\n      handleCheckNoCache(val) {\r\n        this.menu.noCache = val\r\n      },\r\n      handleCheckBreadcrumb(val) {\r\n        this.menu.breadcrumb = val\r\n      },\r\n      handleCheckAffix(val) {\r\n        this.menu.affix = val\r\n      },\r\n      changeEnable(enable) {\r\n        this.menu.enable = enable\r\n      },\r\n      selectIcon() {\r\n        this.dialogVisible = true\r\n      },\r\n      sureIcon(item) {\r\n        this.menu.icon = item\r\n        this.dialogVisible = false\r\n      },\r\n\r\n      async confirmAdd() {\n        var isEdit = false\n        let menuId = this.menu.id\n        if (menuId != 0) {\n          isEdit = true\n        }\n        if (isEdit) {\n          let res = await this.api.menu().editSysRoute(this.menu)\n          if (res.code == 1) {\n            this.$message.success('菜单编辑成功')\n            this.menu = this.defaultMenu;\n            this.getRoutes()\n          } else {\n            this.$message.error(res.msg + '')\n          }\n        } else {\n          let res = await this.api.menu().addSysRoute(this.menu)\n          if (res.code == 1) {\n            this.$message.success('菜单新增成功')\n            this.menu = this.defaultMenu;\n            this.getRoutes()\n          } else {\n            this.$message.error(res.msg + '')\n          }\n        }\r\n      },\n\n      handleDelete() {\n        const checkedKeys = this.$refs.tree.getCheckedKeys()\n        let ids = checkedKeys.join(',');\n        let obj = {\n          'ids': ids\n        }\n        if (checkedKeys.length == 0) {\n          this.$message.info('请先选择待删除的菜单')\n        } else {\n          this.$confirm('确定删除选中的菜单?', '提示', {\n              confirmButtonText: '确认',\n              cancelButtonText: '取消',\n              type: 'warning'\n            })\n            .then( async () => {\n              let res = await this.api.menu().delSysRoute(obj)\n              if (res.code == 1) {\n                this.$message.success('菜单删除成功')\n                this.menu = this.defaultMenu;\n                this.getRoutes()\n              } else {\n                this.$message.error(res.msg + '')\n              }\n            })\n            .catch(err => {\n              console.error(err)\n            })\n        }\n      },\r\n\r\n      // Reshape the routes structure so that it looks the same as the sidebar\r\n      generateRoutes(routes, basePath = '/') {\r\n        const res = []\r\n\r\n        for (let route of routes) {\r\n          // skip some route\r\n          if (route.hidden) {\r\n            continue\r\n          }\r\n\r\n          // const onlyOneShowingChild = this.onlyOneShowingChild(route.children, route)\r\n\r\n          // if (route.children && onlyOneShowingChild && !route.alwaysShow) {\r\n          //   route = onlyOneShowingChild\r\n          // }\r\n\n          const data = route\n          data.path = route.path//path.resolve(basePath, route.path)\n          data.title = route.title\n          data.label = route.title,\n          data.id = route.id\n\r\n          // const data = {\r\n          //   path: path.resolve(basePath, route.path),\r\n          //   title: route.title,\r\n          //   label: route.title,\r\n          //   id: route.id\r\n          // }\r\n\r\n          // recursive child routes\r\n          if (route.children) {\r\n            data.children = this.generateRoutes(route.children, data.path)\r\n          }\r\n          res.push(data)\r\n        }\r\n        return res\r\n      },\r\n      // reference: src/view/layout/components/Sidebar/SidebarItem.vue\r\n      onlyOneShowingChild(children = [], parent) {\r\n        let onlyOneChild = null\r\n        const showingChildren = children.filter(item => !item.hidden)\r\n\r\n        // When there is only one child route, the child route is displayed by default\r\n        if (showingChildren.length === 1) {\r\n          onlyOneChild = showingChildren[0]\r\n          onlyOneChild.path = path.resolve(parent.path, onlyOneChild.path)\r\n          return onlyOneChild\r\n        }\r\n\r\n        // Show parent if there are no child route to display\r\n        if (showingChildren.length === 0) {\r\n          onlyOneChild = {\r\n            ...parent,\r\n            path: '',\r\n            noShowingChildren: true\r\n          }\r\n          return onlyOneChild\r\n        }\r\n\r\n        return false\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n  .app-container {\r\n    .roles-table {\r\n      margin-top: 30px;\r\n    }\r\n\r\n    .permission-tree {\r\n      margin-bottom: 30px;\r\n    }\r\n\r\n    .component-item {\r\n      min-height: 100px;\r\n    }\r\n\r\n    .iconList {\r\n      overflow-y: scroll; //y轴显示滚动条\r\n      overflow-x: hidden; //x轴溢出隐藏\r\n      display: flex;\r\n      justify-content: space-around;\r\n      flex-wrap: wrap; //一定要换行\r\n\r\n      i {\r\n        display: inline-block;\r\n        width: 60px;\r\n        height: 45px;\r\n        color: #000000;\r\n        font-size: 20px;\r\n        border: 1px solid #E6E6E6;\r\n        border-radius: 4px;\r\n        cursor: pointer;\r\n        text-align: center;\r\n        line-height: 45px;\r\n        margin: 5px;\r\n\r\n        &:hover {\r\n          color: #f5de00;\r\n          border-color: #f5de00;\r\n        }\r\n      }\r\n    }\r\n  }\r\n</style>\n"]}]}