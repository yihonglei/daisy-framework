{"remainingRequest":"/Users/hq_ly/mhjy/mhjy_manager/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/hq_ly/mhjy/mhjy_manager/src/views/permission/page.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/hq_ly/mhjy/mhjy_manager/src/views/permission/page.vue","mtime":1660376339949},{"path":"/Users/hq_ly/mhjy/mhjy_manager/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hq_ly/mhjy/mhjy_manager/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/hq_ly/mhjy/mhjy_manager/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hq_ly/mhjy/mhjy_manager/node_modules/vue-loader/lib/index.js","mtime":1655715099000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBwYXRoIGZyb20gJ3BhdGgnCmltcG9ydCB7CiAgZGVlcENsb25lCn0gZnJvbSAnQC91dGlscycKaW1wb3J0IHsKICBnZXRUb2tlbiwKICBzZXRUb2tlbiwKICByZW1vdmVUb2tlbgp9IGZyb20gJ0AvdXRpbHMvYXV0aCcKCmltcG9ydCBjaGVja1Blcm1pc3Npb24gZnJvbSAnQC91dGlscy9wZXJtaXNzaW9uJyAvLyDmnYPpmZDliKTmlq3lh73mlbAKaW1wb3J0IFBhblRodW1iIGZyb20gJ0AvY29tcG9uZW50cy9QYW5UaHVtYicKaW1wb3J0IE1kSW5wdXQgZnJvbSAnQC9jb21wb25lbnRzL01EaW5wdXQnCmltcG9ydCBNYWxsa2kgZnJvbSAnQC9jb21wb25lbnRzL1RleHRIb3ZlckVmZmVjdC9NYWxsa2knCmltcG9ydCBEcm9wZG93bk1lbnUgZnJvbSAnQC9jb21wb25lbnRzL1NoYXJlL0Ryb3Bkb3duTWVudScKaW1wb3J0IHdhdmVzIGZyb20gJ0AvZGlyZWN0aXZlL3dhdmVzL2luZGV4LmpzJyAvLyDmsLTms6LnurnmjIfku6QKaW1wb3J0IHsKICBlbGVtZW50SWNvbnMKfSBmcm9tICdAL3V0aWxzL2ljb24nCgpjb25zdCBkZWZhdWx0Um9sZSA9IHsKICBpZDogMCwKICBuYW1lOiAnJywKICBpbnRybzogJycsCiAgcm91dGVzOiBbXQp9CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0NvbXBvbmVudE1peGluRGVtbycsCiAgY29tcG9uZW50czogewogICAgUGFuVGh1bWIsCiAgICBNZElucHV0LAogICAgTWFsbGtpLAogICAgRHJvcGRvd25NZW51LAogIH0sCiAgZGlyZWN0aXZlczogewogICAgd2F2ZXMKICB9LAogIHdhdGNoOiB7CiAgICBmaWx0ZXJUZXh0KHZhbCkgewogICAgICB0aGlzLiRyZWZzLnRyZWUuZmlsdGVyKHZhbCk7CiAgICB9CiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcm9sZTogT2JqZWN0LmFzc2lnbih7fSwgZGVmYXVsdFJvbGUpLAogICAgICByb3V0ZXM6IFtdLAogICAgICBkaWFsb2dWaXNpYmxlOiBmYWxzZSwKICAgICAgY2hlY2tTdHJpY3RseTogZmFsc2UsCiAgICAgIGRlZmF1bHRQcm9wczogewogICAgICAgIGNoaWxkcmVuOiAnY2hpbGRyZW4nLAogICAgICAgIGxhYmVsOiAndGl0bGUnLAogICAgICAgIHRpdGxlOiAndGl0bGUnLAogICAgICAgIGlkOiAwCiAgICAgIH0sCiAgICAgIGZpbHRlclRleHQ6ICcnLAogICAgICBjbGlja01lbnU6IHsKICAgICAgICBpZDowLAogICAgICAgIHRpdGxlOifmoLnoj5zljZUnCiAgICAgIH0sCiAgICAgIGRlZmF1bHRNZW51OiB7CiAgICAgICAgaWQ6IDAsCiAgICAgICAgcGFyZW50aWQ6IDAsCiAgICAgICAgcGF0aDogJycsCiAgICAgICAgY29tcG9uZW50OiAnbGF5b3V0JywKICAgICAgICBoaWRkZW46IDAsCiAgICAgICAgcmVkaXJlY3Q6ICcnLAogICAgICAgIGFsd2F5c1Nob3c6IDAsCiAgICAgICAgbmFtZTogJycsCiAgICAgICAgdGl0bGU6ICcnLAogICAgICAgIGljb246ICcnLAogICAgICAgIGFjdGl2ZU1lbnU6ICcnLAogICAgICAgIG5vQ2FjaGU6IDAsCiAgICAgICAgYnJlYWRjcnVtYjogMSwKICAgICAgICBhZmZpeDogMCwKICAgICAgICBlbmFibGU6IDEsCiAgICAgICAgc29ydDogMQogICAgICB9LAogICAgICBtZW51OiB7CiAgICAgICAgaWQ6IDAsCiAgICAgICAgcGFyZW50aWQ6IDAsCiAgICAgICAgcGF0aDogJycsCiAgICAgICAgY29tcG9uZW50OiAnbGF5b3V0JywKICAgICAgICBoaWRkZW46IDAsCiAgICAgICAgcmVkaXJlY3Q6ICcnLAogICAgICAgIGFsd2F5c1Nob3c6IDAsCiAgICAgICAgbmFtZTogJycsCiAgICAgICAgdGl0bGU6ICcnLAogICAgICAgIGljb246ICcnLAogICAgICAgIGFjdGl2ZU1lbnU6ICcnLAogICAgICAgIG5vQ2FjaGU6IDAsCiAgICAgICAgYnJlYWRjcnVtYjogMSwKICAgICAgICBhZmZpeDogMCwKICAgICAgICBlbmFibGU6IDEsCiAgICAgICAgc29ydDogMQogICAgICB9CiAgICB9CiAgfSwKICBjb21wdXRlZDogewogICAgcm91dGVzRGF0YSgpIHsKICAgICAgcmV0dXJuIHRoaXMucm91dGVzCiAgICB9CiAgfSwKICBjcmVhdGVkKCkgewogICAgLy8gTW9jazogZ2V0IGFsbCByb3V0ZXMgYW5kIHJvbGVzIGxpc3QgZnJvbSBzZXJ2ZXIKICAgIHRoaXMuZ2V0Um91dGVzKCkKICAgIHRoaXMuaWNvbkxpc3QgPSBlbGVtZW50SWNvbnMKICB9LAogIG1ldGhvZHM6IHsKICAgIGNoZWNrUGVybWlzc2lvbiwKICAgIGFzeW5jIGdldFJvdXRlcygpIHsKICAgICAgY29uc3QgcmVzID0gYXdhaXQgdGhpcy5hcGkucm9sZSgpLmdldFJvdXRlcygpCiAgICAgIHRoaXMuc2VydmljZVJvdXRlcyA9IHJlcy5kYXRhCgogICAgICB0aGlzLnJvdXRlcyA9IHRoaXMuZ2VuZXJhdGVSb3V0ZXMocmVzLmRhdGEpCiAgICB9LAoKICAgIG5vZGVDbGljayh2YWwpIHsKICAgICAgdGhpcy5jbGlja01lbnUgPSB2YWwKICAgICAgdGhpcy5tZW51ID0gdGhpcy5kZWZhdWx0TWVudQogICAgfSwKCiAgICBmaWx0ZXJOb2RlKHZhbHVlLCBkYXRhKSB7CiAgICAgIGlmICghdmFsdWUpIHJldHVybiB0cnVlCiAgICAgIHJldHVybiBkYXRhLmxhYmVsLmluY2x1ZGVzKHZhbHVlKQogICAgfSwKICAgIGhhbmRsZVJlc2V0KCkgewogICAgICB0aGlzLmZpbHRlclRleHQgPSAnJwogICAgfSwKCiAgICBoYW5kbGVBZGQoKSB7CiAgICAgIGxldCB0aXRsZSA9ICfnoa7lrprmlrDlop7jgJAnICsgdGhpcy5jbGlja01lbnUudGl0bGUgKyAn44CR55qE5a2Q6I+c5Y2V77yfJwogICAgICB0aGlzLiRjb25maXJtKHRpdGxlLCAn5o+Q56S6JywgewogICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICfnoa7orqQnLAogICAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcsCiAgICAgICAgICB0eXBlOiAnd2FybmluZycKICAgICAgICB9KQogICAgICAgIC50aGVuKCgpID0+IHsKICAgICAgICAgIHRoaXMubWVudSA9IHRoaXMuZGVmYXVsdE1lbnUKICAgICAgICAgIHRoaXMubWVudS5wYXJlbnRpZCA9IHRoaXMuY2xpY2tNZW51LmlkCiAgICAgICAgICBpZiAodGhpcy5tZW51LnBhcmVudGlkID09IDApIHsKICAgICAgICAgICAgdGhpcy5tZW51LmNvbXBvbmVudCA9ICdsYXlvdXQnCiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGlzLm1lbnUuY29tcG9uZW50ID0gJycKICAgICAgICAgIH0KICAgICAgICB9KQogICAgICAgIC5jYXRjaChlcnIgPT4gewogICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpCiAgICAgICAgfSkKICAgIH0sCgogICAgaGFuZGxlRWRpdCgpIHsKICAgICAgbGV0IHRpdGxlID0gJ+ehruWumue8lui+keOAkCcgKyB0aGlzLmNsaWNrTWVudS50aXRsZSArICfjgJHoj5zljZXvvJ8nCiAgICAgIHRoaXMuJGNvbmZpcm0odGl0bGUsICfmj5DnpLonLCB7CiAgICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+ehruiupCcsCiAgICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJywKICAgICAgICAgIHR5cGU6ICd3YXJuaW5nJwogICAgICAgIH0pCiAgICAgICAgLnRoZW4oKCkgPT4gewogICAgICAgICAgdGhpcy5tZW51ID0gdGhpcy5jbGlja01lbnUKICAgICAgICAgIHRoaXMubWVudS5wYXJlbnRpZCA9IHRoaXMuY2xpY2tNZW51LmlkCiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goZXJyID0+IHsKICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKQogICAgICAgIH0pCiAgICB9LAoKICAgIHJlc2V0UGFyZW50SWQoKSB7CiAgICAgIHRoaXMubWVudSA9IHRoaXMuZGVmYXVsdE1lbnUKICAgICAgdGhpcy5tZW51LnBhcmVudGlkID0gMAogICAgICB0aGlzLm1lbnUuY29tcG9uZW50ID0gJ2xheW91dCcKICAgIH0sCiAgICBoYW5kbGVDaGVja0hpZGRlbih2YWwpIHsKICAgICAgdGhpcy5tZW51LmhpZGRlbiA9IHZhbAogICAgfSwKICAgIGhhbmRsZUNoZWNrQWx3YXlzU2hvdyh2YWwpIHsKICAgICAgdGhpcy5tZW51LmFsd2F5c1Nob3cgPSB2YWwKICAgIH0sCiAgICBoYW5kbGVDaGVja05vQ2FjaGUodmFsKSB7CiAgICAgIHRoaXMubWVudS5ub0NhY2hlID0gdmFsCiAgICB9LAogICAgaGFuZGxlQ2hlY2tCcmVhZGNydW1iKHZhbCkgewogICAgICB0aGlzLm1lbnUuYnJlYWRjcnVtYiA9IHZhbAogICAgfSwKICAgIGhhbmRsZUNoZWNrQWZmaXgodmFsKSB7CiAgICAgIHRoaXMubWVudS5hZmZpeCA9IHZhbAogICAgfSwKICAgIGNoYW5nZUVuYWJsZShlbmFibGUpIHsKICAgICAgdGhpcy5tZW51LmVuYWJsZSA9IGVuYWJsZQogICAgfSwKICAgIHNlbGVjdEljb24oKSB7CiAgICAgIHRoaXMuZGlhbG9nVmlzaWJsZSA9IHRydWUKICAgIH0sCiAgICBzdXJlSWNvbihpdGVtKSB7CiAgICAgIHRoaXMubWVudS5pY29uID0gaXRlbQogICAgICB0aGlzLmRpYWxvZ1Zpc2libGUgPSBmYWxzZQogICAgfSwKCiAgICBhc3luYyBjb25maXJtQWRkKCkgewogICAgICB2YXIgaXNFZGl0ID0gZmFsc2UKICAgICAgbGV0IG1lbnVJZCA9IHRoaXMubWVudS5pZAogICAgICBpZiAobWVudUlkICE9IDApIHsKICAgICAgICBpc0VkaXQgPSB0cnVlCiAgICAgIH0KICAgICAgaWYgKGlzRWRpdCkgewogICAgICAgIGxldCByZXMgPSBhd2FpdCB0aGlzLmFwaS5tZW51KCkuZWRpdFN5c1JvdXRlKHRoaXMubWVudSkKICAgICAgICBpZiAocmVzLmNvZGUgPT0gMSkgewogICAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCfoj5zljZXnvJbovpHmiJDlip8nKQogICAgICAgICAgdGhpcy5tZW51ID0gdGhpcy5kZWZhdWx0TWVudTsKICAgICAgICAgIHRoaXMuZ2V0Um91dGVzKCkKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcihyZXMubXNnICsgJycpCiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIGxldCByZXMgPSBhd2FpdCB0aGlzLmFwaS5tZW51KCkuYWRkU3lzUm91dGUodGhpcy5tZW51KQogICAgICAgIGlmIChyZXMuY29kZSA9PSAxKSB7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoJ+iPnOWNleaWsOWinuaIkOWKnycpCiAgICAgICAgICB0aGlzLm1lbnUgPSB0aGlzLmRlZmF1bHRNZW51OwogICAgICAgICAgdGhpcy5nZXRSb3V0ZXMoKQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKHJlcy5tc2cgKyAnJykKICAgICAgICB9CiAgICAgIH0KICAgIH0sCgogICAgaGFuZGxlRGVsZXRlKCkgewogICAgICBjb25zdCBjaGVja2VkS2V5cyA9IHRoaXMuJHJlZnMudHJlZS5nZXRDaGVja2VkS2V5cygpCiAgICAgIGxldCBpZHMgPSBjaGVja2VkS2V5cy5qb2luKCcsJyk7CiAgICAgIGxldCBvYmogPSB7CiAgICAgICAgJ2lkcyc6IGlkcwogICAgICB9CiAgICAgIGlmIChjaGVja2VkS2V5cy5sZW5ndGggPT0gMCkgewogICAgICAgIHRoaXMuJG1lc3NhZ2UuaW5mbygn6K+35YWI6YCJ5oup5b6F5Yig6Zmk55qE6I+c5Y2VJykKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLiRjb25maXJtKCfnoa7lrprliKDpmaTpgInkuK3nmoToj5zljZU/JywgJ+aPkOekuicsIHsKICAgICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICfnoa7orqQnLAogICAgICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJywKICAgICAgICAgICAgdHlwZTogJ3dhcm5pbmcnCiAgICAgICAgICB9KQogICAgICAgICAgLnRoZW4oIGFzeW5jICgpID0+IHsKICAgICAgICAgICAgbGV0IHJlcyA9IGF3YWl0IHRoaXMuYXBpLm1lbnUoKS5kZWxTeXNSb3V0ZShvYmopCiAgICAgICAgICAgIGlmIChyZXMuY29kZSA9PSAxKSB7CiAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCfoj5zljZXliKDpmaTmiJDlip8nKQogICAgICAgICAgICAgIHRoaXMubWVudSA9IHRoaXMuZGVmYXVsdE1lbnU7CiAgICAgICAgICAgICAgdGhpcy5nZXRSb3V0ZXMoKQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IocmVzLm1zZyArICcnKQogICAgICAgICAgICB9CiAgICAgICAgICB9KQogICAgICAgICAgLmNhdGNoKGVyciA9PiB7CiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKQogICAgICAgICAgfSkKICAgICAgfQogICAgfSwKCiAgICAvLyBSZXNoYXBlIHRoZSByb3V0ZXMgc3RydWN0dXJlIHNvIHRoYXQgaXQgbG9va3MgdGhlIHNhbWUgYXMgdGhlIHNpZGViYXIKICAgIGdlbmVyYXRlUm91dGVzKHJvdXRlcywgYmFzZVBhdGggPSAnLycpIHsKICAgICAgY29uc3QgcmVzID0gW10KCiAgICAgIGZvciAobGV0IHJvdXRlIG9mIHJvdXRlcykgewogICAgICAgIC8vIHNraXAgc29tZSByb3V0ZQogICAgICAgIGlmIChyb3V0ZS5oaWRkZW4pIHsKICAgICAgICAgIGNvbnRpbnVlCiAgICAgICAgfQoKICAgICAgICAvLyBjb25zdCBvbmx5T25lU2hvd2luZ0NoaWxkID0gdGhpcy5vbmx5T25lU2hvd2luZ0NoaWxkKHJvdXRlLmNoaWxkcmVuLCByb3V0ZSkKCiAgICAgICAgLy8gaWYgKHJvdXRlLmNoaWxkcmVuICYmIG9ubHlPbmVTaG93aW5nQ2hpbGQgJiYgIXJvdXRlLmFsd2F5c1Nob3cpIHsKICAgICAgICAvLyAgIHJvdXRlID0gb25seU9uZVNob3dpbmdDaGlsZAogICAgICAgIC8vIH0KCiAgICAgICAgY29uc3QgZGF0YSA9IHJvdXRlCiAgICAgICAgZGF0YS5wYXRoID0gcm91dGUucGF0aC8vcGF0aC5yZXNvbHZlKGJhc2VQYXRoLCByb3V0ZS5wYXRoKQogICAgICAgIGRhdGEudGl0bGUgPSByb3V0ZS50aXRsZQogICAgICAgIGRhdGEubGFiZWwgPSByb3V0ZS50aXRsZSwKICAgICAgICBkYXRhLmlkID0gcm91dGUuaWQKCiAgICAgICAgLy8gY29uc3QgZGF0YSA9IHsKICAgICAgICAvLyAgIHBhdGg6IHBhdGgucmVzb2x2ZShiYXNlUGF0aCwgcm91dGUucGF0aCksCiAgICAgICAgLy8gICB0aXRsZTogcm91dGUudGl0bGUsCiAgICAgICAgLy8gICBsYWJlbDogcm91dGUudGl0bGUsCiAgICAgICAgLy8gICBpZDogcm91dGUuaWQKICAgICAgICAvLyB9CgogICAgICAgIC8vIHJlY3Vyc2l2ZSBjaGlsZCByb3V0ZXMKICAgICAgICBpZiAocm91dGUuY2hpbGRyZW4pIHsKICAgICAgICAgIGRhdGEuY2hpbGRyZW4gPSB0aGlzLmdlbmVyYXRlUm91dGVzKHJvdXRlLmNoaWxkcmVuLCBkYXRhLnBhdGgpCiAgICAgICAgfQogICAgICAgIHJlcy5wdXNoKGRhdGEpCiAgICAgIH0KICAgICAgcmV0dXJuIHJlcwogICAgfSwKICAgIC8vIHJlZmVyZW5jZTogc3JjL3ZpZXcvbGF5b3V0L2NvbXBvbmVudHMvU2lkZWJhci9TaWRlYmFySXRlbS52dWUKICAgIG9ubHlPbmVTaG93aW5nQ2hpbGQoY2hpbGRyZW4gPSBbXSwgcGFyZW50KSB7CiAgICAgIGxldCBvbmx5T25lQ2hpbGQgPSBudWxsCiAgICAgIGNvbnN0IHNob3dpbmdDaGlsZHJlbiA9IGNoaWxkcmVuLmZpbHRlcihpdGVtID0+ICFpdGVtLmhpZGRlbikKCiAgICAgIC8vIFdoZW4gdGhlcmUgaXMgb25seSBvbmUgY2hpbGQgcm91dGUsIHRoZSBjaGlsZCByb3V0ZSBpcyBkaXNwbGF5ZWQgYnkgZGVmYXVsdAogICAgICBpZiAoc2hvd2luZ0NoaWxkcmVuLmxlbmd0aCA9PT0gMSkgewogICAgICAgIG9ubHlPbmVDaGlsZCA9IHNob3dpbmdDaGlsZHJlblswXQogICAgICAgIG9ubHlPbmVDaGlsZC5wYXRoID0gcGF0aC5yZXNvbHZlKHBhcmVudC5wYXRoLCBvbmx5T25lQ2hpbGQucGF0aCkKICAgICAgICByZXR1cm4gb25seU9uZUNoaWxkCiAgICAgIH0KCiAgICAgIC8vIFNob3cgcGFyZW50IGlmIHRoZXJlIGFyZSBubyBjaGlsZCByb3V0ZSB0byBkaXNwbGF5CiAgICAgIGlmIChzaG93aW5nQ2hpbGRyZW4ubGVuZ3RoID09PSAwKSB7CiAgICAgICAgb25seU9uZUNoaWxkID0gewogICAgICAgICAgLi4ucGFyZW50LAogICAgICAgICAgcGF0aDogJycsCiAgICAgICAgICBub1Nob3dpbmdDaGlsZHJlbjogdHJ1ZQogICAgICAgIH0KICAgICAgICByZXR1cm4gb25seU9uZUNoaWxkCiAgICAgIH0KCiAgICAgIHJldHVybiBmYWxzZQogICAgfQogIH0KfQo="},{"version":3,"sources":["page.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"page.vue","sourceRoot":"src/views/permission","sourcesContent":["<template>\r\n  <div class=\"app-container\">\r\n    <el-row :gutter=\"12\" style=\"margin-top:30px;\">\r\n      <el-col :span=\"12\">\r\n        <el-card class=\"box-card\">\r\n          <div slot=\"header\" class=\"clearfix\">\r\n            <span>菜单列表</span>\r\n          </div>\r\n          <div class=\"filter-container\">\r\n            <el-input v-model=\"filterText\" placeholder=\"输入搜索关键字\" style=\"width: 200px;margin-right: 10px;\"\r\n              class=\"filter-item\" />\r\n            <el-button v-waves class=\"filter-item\" style=\"margin-left: 10px;\" type=\"primary\" @click=\"handleReset\">\r\n              重置\r\n            </el-button>\r\n            <el-button v-waves class=\"filter-item\" style=\"margin-left: 10px;\" type=\"primary\" @click=\"handleAdd\">\r\n              新增\r\n            </el-button>\n            <el-button v-waves class=\"filter-item\" style=\"margin-left: 10px;\" type=\"primary\" @click=\"handleEdit\">\n              编辑\n            </el-button>\r\n            <el-button v-waves class=\"filter-item\" style=\"margin-left: 10px;\" type=\"primary\" @click=\"handleDelete\">\r\n              删除\r\n            </el-button>\r\n          </div>\r\n          <div>\r\n            <el-form :model=\"role\">\r\n              <el-tree ref=\"tree\" :check-strictly=\"checkStrictly\" :data=\"routesData\" :props=\"defaultProps\"\r\n                :accordion=\"false\" default-expand-all :highlight-current=\"true\" :expand-on-click-node=\"false\"\r\n                show-checkbox node-key=\"id\" class=\"permission-tree\" @node-click=\"nodeClick\"\r\n                :filter-node-method=\"filterNode\" empty-text=\"暂无数据\" />\r\n            </el-form>\r\n          </div>\r\n        </el-card>\r\n      </el-col>\r\n\r\n      <el-col :span=\"12\">\r\n        <el-card class=\"box-card\">\r\n          <div slot=\"header\" class=\"clearfix\">\r\n            <span>新增菜单</span>\r\n          </div>\r\n          <div>\r\n            <el-form :model=\"menu\">\r\n              <el-form-item prop=\"parentid\" label=\"上级ID\" label-width=\"100px\" label-position=\"left\">\r\n                <el-input disabled style=\"width: 200px;\" v-model=\"menu.parentid\" placeholder=\"上级ID\"></el-input>\r\n                <el-button style=\"margin-left: 10px;\" type=\"primary\" @click=\"resetParentId\" icon=\"search\">重置\r\n                </el-button>\r\n              </el-form-item>\r\n              <el-form-item prop=\"path\" label=\"路由URI\" label-width=\"100px\" label-position=\"left\">\r\n                <el-input v-model=\"menu.path\" placeholder=\"路由URI\"></el-input>\r\n              </el-form-item>\r\n              <el-form-item prop=\"component\" label=\"视图URI\" label-width=\"100px\" label-position=\"left\">\r\n                <el-input :disabled=\"menu.parentid==0\" v-model=\"menu.component\" placeholder=\"视图URI\"></el-input>\r\n              </el-form-item>\r\n              <el-form-item prop=\"hidden\" label=\"是否隐藏\" label-width=\"100px\" label-position=\"left\">\r\n                <el-checkbox v-model=\"menu.hidden\" label=\"不显示在菜单栏\" :true-label=\"1\" :false-label=\"0\"\r\n                  @change=\"handleCheckHidden\"></el-checkbox>\r\n              </el-form-item>\r\n              <el-form-item prop=\"redirect\" label=\"重定向URI\" label-width=\"100px\" label-position=\"left\">\r\n                <el-input v-model=\"menu.redirect\" placeholder=\"重定向URI\"></el-input>\r\n              </el-form-item>\r\n              <el-form-item prop=\"alwaysShow\" label=\"一直显示\" label-width=\"100px\" label-position=\"left\">\r\n                <el-checkbox v-model=\"menu.alwaysShow\" label=\"一个子菜单时,也展示父菜单\" :true-label=\"1\" :false-label=\"0\"\r\n                  @change=\"handleCheckAlwaysShow\"></el-checkbox>\r\n              </el-form-item>\r\n              <el-form-item prop=\"name\" label=\"*路由名称\" label-width=\"100px\" label-position=\"left\">\r\n                <el-input v-model=\"menu.name\" placeholder=\"路由名称\"></el-input>\r\n              </el-form-item>\r\n\r\n              <el-form-item prop=\"title\" label=\"*菜单名称\" label-width=\"100px\" label-position=\"left\">\r\n                <el-input v-model=\"menu.title\" placeholder=\"菜单名称\"></el-input>\r\n              </el-form-item>\r\n\r\n              <el-form-item prop=\"icon\" label=\"ICON\" label-width=\"100px\" label-position=\"left\">\r\n                <el-input disabled v-model=\"menu.icon\" placeholder=\"图标\" style=\"width: 200px;\"></el-input>\r\n                <el-button style=\"margin-left: 10px;\" type=\"primary\" @click=\"selectIcon\" icon=\"search\">选择</el-button>\r\n              </el-form-item>\r\n              <el-form-item prop=\"noCache\" label=\"是否缓存\" label-width=\"100px\" label-position=\"left\">\r\n                <el-checkbox v-model=\"menu.noCache\" :true-label=\"1\" :false-label=\"0\" @change=\"handleCheckNoCache\">\r\n                </el-checkbox>\r\n              </el-form-item>\r\n              <el-form-item prop=\"breadcrumb\" label=\"展示面包屑中\" label-width=\"100px\" label-position=\"left\">\r\n                <el-checkbox v-model=\"menu.breadcrumb\" :true-label=\"1\" :false-label=\"0\" @change=\"handleCheckBreadcrumb\">\r\n                </el-checkbox>\r\n              </el-form-item>\r\n              <el-form-item prop=\"affix\" label=\"固定在顶部\" label-width=\"100px\" label-position=\"left\">\r\n                <el-checkbox v-model=\"menu.affix\" :true-label=\"1\" :false-label=\"0\" @change=\"handleCheckAffix\">\r\n                </el-checkbox>\r\n              </el-form-item>\r\n              <el-form-item prop=\"activeMenu\" label=\"高亮侧边栏\" label-width=\"100px\" label-position=\"left\">\r\n                <el-input v-model=\"menu.activeMenu\" placeholder=\"高亮侧边栏(选填)\"></el-input>\r\n              </el-form-item>\r\n              <el-form-item prop=\"enable\" label=\"状态\" label-width=\"100px\" label-position=\"left\">\r\n                <el-radio-group v-model=\"menu.enable\" size=\"small\" @change=\"changeEnable\" fill=\"#66b1ff\">\r\n                  <el-radio :label=\"1\">启用</el-radio>\r\n                  <el-radio :label=\"0\">禁用</el-radio>\r\n                </el-radio-group>\r\n              </el-form-item>\r\n              <el-form-item prop=\"sort\" label=\"排序\" label-width=\"100px\" label-position=\"left\">\r\n                <el-input type=\"number\" min=\"1\" v-model=\"menu.sort\"\r\n                  style=\"width: 100px;margin-left: 5px;margin-right: 5px;\"></el-input>\r\n              </el-form-item>\r\n            </el-form>\r\n          </div>\r\n          <div style=\"text-align:center;\">\r\n            <el-button type=\"primary\" @click=\"confirmAdd\">提交</el-button>\r\n          </div>\r\n        </el-card>\r\n      </el-col>\r\n    </el-row>\r\n\r\n    <el-dialog :visible.sync=\"dialogVisible\" title=\"选择图标\">\r\n      <div class=\"iconList\">\r\n        <i v-for=\"item in iconList\" :key=\"item\" :class=\"item\" @click=\"sureIcon(item)\" style=\"font-size:20px\"></i>\r\n      </div>\r\n    </el-dialog>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import path from 'path'\r\n  import {\r\n    deepClone\r\n  } from '@/utils'\r\n  import {\r\n    getToken,\r\n    setToken,\r\n    removeToken\r\n  } from '@/utils/auth'\n\r\n  import checkPermission from '@/utils/permission' // 权限判断函数\r\n  import PanThumb from '@/components/PanThumb'\r\n  import MdInput from '@/components/MDinput'\r\n  import Mallki from '@/components/TextHoverEffect/Mallki'\r\n  import DropdownMenu from '@/components/Share/DropdownMenu'\r\n  import waves from '@/directive/waves/index.js' // 水波纹指令\r\n  import {\r\n    elementIcons\r\n  } from '@/utils/icon'\r\n\r\n  const defaultRole = {\r\n    id: 0,\r\n    name: '',\r\n    intro: '',\r\n    routes: []\r\n  }\r\n\r\n  export default {\r\n    name: 'ComponentMixinDemo',\r\n    components: {\r\n      PanThumb,\r\n      MdInput,\r\n      Mallki,\r\n      DropdownMenu,\r\n    },\r\n    directives: {\r\n      waves\r\n    },\r\n    watch: {\r\n      filterText(val) {\r\n        this.$refs.tree.filter(val);\r\n      }\r\n    },\r\n    data() {\r\n      return {\r\n        role: Object.assign({}, defaultRole),\r\n        routes: [],\r\n        dialogVisible: false,\r\n        checkStrictly: false,\r\n        defaultProps: {\r\n          children: 'children',\r\n          label: 'title',\r\n          title: 'title',\r\n          id: 0\r\n        },\r\n        filterText: '',\n        clickMenu: {\n          id:0,\n          title:'根菜单'\n        },\n        defaultMenu: {\n          id: 0,\n          parentid: 0,\n          path: '',\n          component: 'layout',\n          hidden: 0,\n          redirect: '',\n          alwaysShow: 0,\n          name: '',\n          title: '',\n          icon: '',\n          activeMenu: '',\n          noCache: 0,\n          breadcrumb: 1,\n          affix: 0,\n          enable: 1,\n          sort: 1\n        },\r\n        menu: {\n          id: 0,\r\n          parentid: 0,\r\n          path: '',\r\n          component: 'layout',\r\n          hidden: 0,\r\n          redirect: '',\r\n          alwaysShow: 0,\r\n          name: '',\r\n          title: '',\r\n          icon: '',\r\n          activeMenu: '',\r\n          noCache: 0,\r\n          breadcrumb: 1,\r\n          affix: 0,\r\n          enable: 1,\r\n          sort: 1\r\n        }\r\n      }\r\n    },\r\n    computed: {\r\n      routesData() {\r\n        return this.routes\r\n      }\r\n    },\r\n    created() {\r\n      // Mock: get all routes and roles list from server\r\n      this.getRoutes()\r\n      this.iconList = elementIcons\r\n    },\r\n    methods: {\r\n      checkPermission,\r\n      async getRoutes() {\r\n        const res = await this.api.role().getRoutes()\r\n        this.serviceRoutes = res.data\r\n\r\n        this.routes = this.generateRoutes(res.data)\r\n      },\r\n\r\n      nodeClick(val) {\n        this.clickMenu = val\n        this.menu = this.defaultMenu\r\n      },\r\n\r\n      filterNode(value, data) {\r\n        if (!value) return true\r\n        return data.label.includes(value)\r\n      },\r\n      handleReset() {\r\n        this.filterText = ''\r\n      },\r\n\r\n      handleAdd() {\r\n        let title = '确定新增【' + this.clickMenu.title + '】的子菜单？'\r\n        this.$confirm(title, '提示', {\r\n            confirmButtonText: '确认',\r\n            cancelButtonText: '取消',\r\n            type: 'warning'\r\n          })\r\n          .then(() => {\n            this.menu = this.defaultMenu\r\n            this.menu.parentid = this.clickMenu.id\n            if (this.menu.parentid == 0) {\n              this.menu.component = 'layout'\n            } else {\n              this.menu.component = ''\n            }\r\n          })\r\n          .catch(err => {\r\n            console.error(err)\r\n          })\r\n      },\n\n      handleEdit() {\n        let title = '确定编辑【' + this.clickMenu.title + '】菜单？'\n        this.$confirm(title, '提示', {\n            confirmButtonText: '确认',\n            cancelButtonText: '取消',\n            type: 'warning'\n          })\n          .then(() => {\n            this.menu = this.clickMenu\n            this.menu.parentid = this.clickMenu.id\n          })\n          .catch(err => {\n            console.error(err)\n          })\n      },\r\n\r\n      resetParentId() {\r\n        this.menu = this.defaultMenu\n        this.menu.parentid = 0\n        this.menu.component = 'layout'\r\n      },\r\n      handleCheckHidden(val) {\r\n        this.menu.hidden = val\r\n      },\r\n      handleCheckAlwaysShow(val) {\r\n        this.menu.alwaysShow = val\r\n      },\r\n      handleCheckNoCache(val) {\r\n        this.menu.noCache = val\r\n      },\r\n      handleCheckBreadcrumb(val) {\r\n        this.menu.breadcrumb = val\r\n      },\r\n      handleCheckAffix(val) {\r\n        this.menu.affix = val\r\n      },\r\n      changeEnable(enable) {\r\n        this.menu.enable = enable\r\n      },\r\n      selectIcon() {\r\n        this.dialogVisible = true\r\n      },\r\n      sureIcon(item) {\r\n        this.menu.icon = item\r\n        this.dialogVisible = false\r\n      },\r\n\r\n      async confirmAdd() {\n        var isEdit = false\n        let menuId = this.menu.id\n        if (menuId != 0) {\n          isEdit = true\n        }\n        if (isEdit) {\n          let res = await this.api.menu().editSysRoute(this.menu)\n          if (res.code == 1) {\n            this.$message.success('菜单编辑成功')\n            this.menu = this.defaultMenu;\n            this.getRoutes()\n          } else {\n            this.$message.error(res.msg + '')\n          }\n        } else {\n          let res = await this.api.menu().addSysRoute(this.menu)\n          if (res.code == 1) {\n            this.$message.success('菜单新增成功')\n            this.menu = this.defaultMenu;\n            this.getRoutes()\n          } else {\n            this.$message.error(res.msg + '')\n          }\n        }\r\n      },\n\n      handleDelete() {\n        const checkedKeys = this.$refs.tree.getCheckedKeys()\n        let ids = checkedKeys.join(',');\n        let obj = {\n          'ids': ids\n        }\n        if (checkedKeys.length == 0) {\n          this.$message.info('请先选择待删除的菜单')\n        } else {\n          this.$confirm('确定删除选中的菜单?', '提示', {\n              confirmButtonText: '确认',\n              cancelButtonText: '取消',\n              type: 'warning'\n            })\n            .then( async () => {\n              let res = await this.api.menu().delSysRoute(obj)\n              if (res.code == 1) {\n                this.$message.success('菜单删除成功')\n                this.menu = this.defaultMenu;\n                this.getRoutes()\n              } else {\n                this.$message.error(res.msg + '')\n              }\n            })\n            .catch(err => {\n              console.error(err)\n            })\n        }\n      },\r\n\r\n      // Reshape the routes structure so that it looks the same as the sidebar\r\n      generateRoutes(routes, basePath = '/') {\r\n        const res = []\r\n\r\n        for (let route of routes) {\r\n          // skip some route\r\n          if (route.hidden) {\r\n            continue\r\n          }\r\n\r\n          // const onlyOneShowingChild = this.onlyOneShowingChild(route.children, route)\r\n\r\n          // if (route.children && onlyOneShowingChild && !route.alwaysShow) {\r\n          //   route = onlyOneShowingChild\r\n          // }\r\n\n          const data = route\n          data.path = route.path//path.resolve(basePath, route.path)\n          data.title = route.title\n          data.label = route.title,\n          data.id = route.id\n\r\n          // const data = {\r\n          //   path: path.resolve(basePath, route.path),\r\n          //   title: route.title,\r\n          //   label: route.title,\r\n          //   id: route.id\r\n          // }\r\n\r\n          // recursive child routes\r\n          if (route.children) {\r\n            data.children = this.generateRoutes(route.children, data.path)\r\n          }\r\n          res.push(data)\r\n        }\r\n        return res\r\n      },\r\n      // reference: src/view/layout/components/Sidebar/SidebarItem.vue\r\n      onlyOneShowingChild(children = [], parent) {\r\n        let onlyOneChild = null\r\n        const showingChildren = children.filter(item => !item.hidden)\r\n\r\n        // When there is only one child route, the child route is displayed by default\r\n        if (showingChildren.length === 1) {\r\n          onlyOneChild = showingChildren[0]\r\n          onlyOneChild.path = path.resolve(parent.path, onlyOneChild.path)\r\n          return onlyOneChild\r\n        }\r\n\r\n        // Show parent if there are no child route to display\r\n        if (showingChildren.length === 0) {\r\n          onlyOneChild = {\r\n            ...parent,\r\n            path: '',\r\n            noShowingChildren: true\r\n          }\r\n          return onlyOneChild\r\n        }\r\n\r\n        return false\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n  .app-container {\r\n    .roles-table {\r\n      margin-top: 30px;\r\n    }\r\n\r\n    .permission-tree {\r\n      margin-bottom: 30px;\r\n    }\r\n\r\n    .component-item {\r\n      min-height: 100px;\r\n    }\r\n\r\n    .iconList {\r\n      overflow-y: scroll; //y轴显示滚动条\r\n      overflow-x: hidden; //x轴溢出隐藏\r\n      display: flex;\r\n      justify-content: space-around;\r\n      flex-wrap: wrap; //一定要换行\r\n\r\n      i {\r\n        display: inline-block;\r\n        width: 60px;\r\n        height: 45px;\r\n        color: #000000;\r\n        font-size: 20px;\r\n        border: 1px solid #E6E6E6;\r\n        border-radius: 4px;\r\n        cursor: pointer;\r\n        text-align: center;\r\n        line-height: 45px;\r\n        margin: 5px;\r\n\r\n        &:hover {\r\n          color: #f5de00;\r\n          border-color: #f5de00;\r\n        }\r\n      }\r\n    }\r\n  }\r\n</style>\n"]}]}